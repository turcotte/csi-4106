<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <meta name="author" content="Marcel Turcotte">
  <title>CSI 4106 - Fall 2025 – Local Search</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-f563837468303362081e247dddd440d0.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script type="module" src="../../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
  <link href="../../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<meta property="og:title" content="Local Search – CSI 4106 - Fall 2025">
<meta property="og:description" content="CSI 4106 Introduction to Artificial Intelligence">
<meta property="og:site_name" content="CSI 4106 - Fall 2025">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Local Search</h1>
  <p class="subtitle">CSI 4106 Introduction to Artificial Intelligence</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Marcel Turcotte 
</div>
</div>
</div>

  <p class="date">Version: Jul 11, 2025 13:56</p>
</section>
<section>
<section id="preamble" class="title-slide slide level1 center">
<h1>Preamble</h1>

</section>
<section id="quote-of-the-day" class="slide level2">
<h2>Quote of the Day</h2>
<p></p><div id="tweet-37763"></div><script>tweet={"url":"https:\/\/twitter.com\/AICoffeeBreak\/status\/1853059840131961314","author_name":"AI Coffee Break with Letitia","author_url":"https:\/\/twitter.com\/AICoffeeBreak","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"en\" dir=\"ltr\"\u003EWhy does math feel so intimidating? Prof. Yael Tauman Kalai shares her insights, and we look at what this says about how we view intelligence\uD83E\uDDE0, both human\uD83E\uDDD1and AI\uD83E\uDD16.\u003Cbr\u003E\uD83D\uDCFA \u003Ca href=\"https:\/\/t.co\/R2Lq7G6fIK\"\u003Ehttps:\/\/t.co\/R2Lq7G6fIK\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003EWe hope this video sparks some thoughts about how we think about the intelligence and… \u003Ca href=\"https:\/\/t.co\/dPVeZYQlhi\"\u003Epic.twitter.com\/dPVeZYQlhi\u003C\/a\u003E\u003C\/p\u003E&mdash; AI Coffee Break with Letitia (@AICoffeeBreak) \u003Ca href=\"https:\/\/twitter.com\/AICoffeeBreak\/status\/1853059840131961314?ref_src=twsrc%5Etfw\"\u003ENovember 3, 2024\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-37763").innerHTML = tweet["html"];</script><p></p>
</section>
<section id="learning-objectives" class="slide level2 smaller">
<h2>Learning Objectives</h2>
<ul>
<li><strong>Understand</strong> the concept and application of local search algorithms in optimization problems.</li>
<li><strong>Implement</strong> and analyze the hill-climbing algorithm, recognizing its limitations such as local maxima and plateaus.</li>
<li><strong>Apply</strong> effective state representation strategies in problems like the 8-Queens to enhance search efficiency.</li>
<li><strong>Explain</strong> how simulated annealing overcomes local optima by allowing probabilistic acceptance of worse states.</li>
<li><strong>Analyze</strong> the influence of temperature and energy difference on the acceptance probability in simulated annealing.</li>
<li><strong>Recognize</strong> the application of simulated annealing in solving complex optimization problems like the Travelling Salesman Problem (TSP).</li>
</ul>
</section></section>
<section>
<section id="introduction" class="title-slide slide level1 center">
<h1>Introduction</h1>

</section>
<section id="context" class="slide level2">
<h2>Context</h2>
<ul>
<li class="fragment"><p>Focus has been on <strong>finding paths</strong> in <strong>state space</strong>.</p></li>
<li class="fragment"><p>Some problems prioritize the <strong>goal state</strong> over the <strong>path</strong>.</p>
<ul>
<li class="fragment">Integrated-circuit design</li>
<li class="fragment">Job shop scheduling</li>
<li class="fragment">Automatic programming</li>
</ul></li>
</ul>
<aside class="notes">
<p>The importance of the path versus the goal state hinges on the problem’s nature. For instance, in a routing problem, the path is the critical piece of information sought.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="queens-problem" class="slide level2">
<h2>8-Queens Problem</h2>
<div id="8925dc5c" class="cell" data-execution_count="2">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-3-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img data-src="slides_files/figure-revealjs/cell-3-output-1.png" class="quarto-figure quarto-figure-center" width="389" height="409"></a></p>
</figure>
</div>
</div>
</div>

<aside class="notes">
<p>For an <span class="math inline">\(8 \times 8\)</span> chessboard, there exist precisely 92 distinct solutions. Eliminating symmetry, one finds 12 fondamental solutions. In the more general scenario of an <span class="math inline">\(n \times n\)</span> chessboard, the exact number of solutions has been determined for all <span class="math inline">\(n\)</span> values up to and including 27.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p>The <strong><a href="https://en.wikipedia.org/wiki/Eight_queens_puzzle">8-Queens problem</a></strong> involves placing eight queens on an <span class="math inline">\(8 \times 8\)</span> chessboard such that <strong>no two queens threaten each other</strong>, meaning no two queens share the same row, column, or diagonal.</p>
</div></aside></section>
<section id="definition" class="slide level2">
<h2>Definition</h2>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><i class="fa-solid fa-quote-right" aria-label="quote-right"></i> <span class="citation" data-cites="Russell:2020aa">(<a href="#/references" role="doc-biblioref" onclick="">Russell and Norvig 2020, 110</a>)</span></strong></p>
</div>
<div class="callout-content">
<p><strong>Local search algorithms</strong> operate by searching from a <strong>start state</strong> to <strong>neighboring states</strong>, without keeping track of the paths, nor the set of states that have been reached.</p>
</div>
</div>
</div>

<aside class="notes">
<p>This algorithm lacks a systematic approach and does not ensure the discovery of an optimal solution.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p>Optimizes <strong>memory utilization</strong> while effectively solving problems in <strong>extensive</strong> or <strong>infinite state spaces</strong>.</p>
</div></aside></section>
<section id="problem-definition" class="slide level2">
<h2>Problem Definition</h2>
<p>Find the “best” state according to an <strong>objective function</strong>, thereby locating the <strong>global maximum</strong>.</p>

<aside><div>
<p>This <strong>optimization problem</strong> is commonly referred to as <strong>hill climbing</strong>.</p>
</div></aside></section></section>
<section>
<section id="hill-climbing" class="title-slide slide level1 center">
<h1>Hill-Climbing</h1>

</section>
<section id="hill-climbing-1" class="slide level2">
<h2>Hill-Climbing</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/search_hill-climbing-00-en.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img data-src="../../assets/images/search_hill-climbing-00-en.png" class="quarto-figure quarto-figure-center"></a></p>
</figure>
</div>
</section>
<section id="hill-climbing-2" class="slide level2">
<h2>Hill-Climbing</h2>
<p>Given as in input a <em>problem</em></p>
<ul>
<li><p><em>current</em> is the <em>initial state</em> of <em>problem</em></p></li>
<li><p><strong>while</strong> <em>not done</em> <strong>do</strong></p>
<ul>
<li><em>nighbour</em> is the highest-valued successor state of <em>current</em></li>
<li>if value(<em>neighbour</em>) <span class="math inline">\(\le\)</span> value(<em>current</em>) the <strong>return</strong> <em>current</em></li>
<li>set <em>current</em> to <em>neighbour</em></li>
</ul></li>
</ul>
<aside class="notes">
<p>Hill climbing neither records previously visited states nor anticipates beyond its immediate neighbors. It keeps track of one current state moves in the direction of the <strong>steepest ascent</strong>.</p>
<p>Notably, by inverting the sign of the objective function, the algorithm can be adapted to seek a local minimum instead.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="queens" class="slide level2">
<h2>8-Queens</h2>
<p>How would you represent the <strong>current state</strong>?</p>
<div class="fragment">
<p>Why is using a grid to represent the <strong>current state</strong> suboptimal?</p>
</div>
<div class="fragment">
<p>A grid representation <strong>permits the illegal placement</strong> of two queens in the same column.</p>
</div>
<div class="fragment">
<p>Instead, we can represent the state as a list (<span class="math inline">\(\mathrm{state}\)</span>), where each element corresponds to the row position of the queen in its respective column.</p>
<p>In other words, <span class="math inline">\(\mathrm{state}[i]\)</span> is the row of the queen is column <span class="math inline">\(i\)</span>.</p>
</div>
</section>
<section id="state-representation" class="slide level2">
<h2>State Representation</h2>
<div id="b51c752b" class="cell" data-execution_count="3">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-4-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img data-src="slides_files/figure-revealjs/cell-4-output-1.png" class="quarto-figure quarto-figure-center" width="389" height="409"></a></p>
</figure>
</div>
</div>
</div>

<aside><div>
<div id="575316a2" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a></a>state <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">1</span>, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></aside></section>
<section id="create_initial_state" class="slide level2">
<h2><code>create_initial_state</code></h2>
<div id="e4004d47" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a></a><span class="im">import</span> random</span>
<span id="cb2-2"><a></a>random.seed(<span class="dv">7</span>)</span>
<span id="cb2-3"><a></a></span>
<span id="cb2-4"><a></a><span class="kw">def</span> create_initial_state(n):</span>
<span id="cb2-5"><a></a></span>
<span id="cb2-6"><a></a>    <span class="co">"""Generates a random initial state with one queen per column."""</span></span>
<span id="cb2-7"><a></a></span>
<span id="cb2-8"><a></a>    <span class="cf">return</span> [random.randint(<span class="dv">0</span>, n <span class="op">-</span> <span class="dv">1</span>) <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(n)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<aside><div>
<p><strong>What</strong> do you think?</p>
</div></aside></section>
<section id="create_initial_state-1" class="slide level2">
<h2><code>create_initial_state</code></h2>
<div id="3e80eb63" class="cell" data-execution_count="6">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-7-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img data-src="slides_files/figure-revealjs/cell-7-output-1.png" class="quarto-figure quarto-figure-center" width="389" height="409"></a></p>
</figure>
</div>
</div>
</div>
<div id="e2534d60" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a></a>state </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>[5, 2, 6, 0, 1, 1, 5, 0]</code></pre>
</div>
</div>
<aside class="notes">
<p>Permits two queens in the <strong>same row</strong>? <strong>How</strong> can this be resolved?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="representation-of-8-queens" class="slide level2 smaller">
<h2>Representation of 8-Queens</h2>
<p><span class="math inline">\(8 \times 8\)</span> chessboard.</p>
<ul>
<li><p><strong>Unconstrained Placement</strong>: <span class="math inline">\(\binom{64}{8} = 4,426,165,368\)</span> possible configurations, representing the selection of 8 squares from 64.</p></li>
<li><p><strong>Column Constraint</strong>: Use a list of length 8, with each entry indicating the row of a queen in its respective column, resulting in <span class="math inline">\(8^8 = 16,777,216\)</span> configurations.</p></li>
<li><p><strong>Row and Column Constraints</strong>: Model board states as permutations of the 8 row indices, reducing configurations to <span class="math inline">\(8! = 40,320\)</span>.</p></li>
</ul>

<aside><div>
<p>This underscores the significance of selecting a good representation.</p>
</div></aside></section>
<section id="create_initial_state-2" class="slide level2">
<h2><code>create_initial_state</code></h2>
<div id="20d6e487" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a></a><span class="im">import</span> random</span>
<span id="cb5-2"><a></a>random.seed(<span class="dv">7</span>)</span>
<span id="cb5-3"><a></a></span>
<span id="cb5-4"><a></a><span class="kw">def</span> create_initial_state(n):</span>
<span id="cb5-5"><a></a></span>
<span id="cb5-6"><a></a>    <span class="co">"""Generates a permutation of numbers from 0 to n-1 as the initial state."""</span></span>
<span id="cb5-7"><a></a></span>
<span id="cb5-8"><a></a>    state <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(n))</span>
<span id="cb5-9"><a></a>    random.shuffle(state)</span>
<span id="cb5-10"><a></a></span>
<span id="cb5-11"><a></a>    <span class="cf">return</span> state</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="create_initial_state-3" class="slide level2">
<h2><code>create_initial_state</code></h2>
<div id="4d5ac87b" class="cell" data-execution_count="9">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-10-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img data-src="slides_files/figure-revealjs/cell-10-output-1.png" class="quarto-figure quarto-figure-center" width="389" height="409"></a></p>
</figure>
</div>
</div>
</div>
<div id="7b4e09e4" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a></a>state </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>[6, 7, 2, 4, 0, 3, 1, 5]</code></pre>
</div>
</div>
</section>
<section id="calculate_conflicts" class="slide level2">
<h2><code>calculate_conflicts</code></h2>
<div id="f221ed1a" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a></a><span class="kw">def</span> calculate_conflicts(state):</span>
<span id="cb8-2"><a></a></span>
<span id="cb8-3"><a></a>    n <span class="op">=</span> <span class="bu">len</span>(state)</span>
<span id="cb8-4"><a></a>    conflicts <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb8-5"><a></a></span>
<span id="cb8-6"><a></a>    <span class="cf">for</span> col_i <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb8-7"><a></a>        <span class="cf">for</span> col_j <span class="kw">in</span> <span class="bu">range</span>(col_i <span class="op">+</span> <span class="dv">1</span>, n):</span>
<span id="cb8-8"><a></a>            row_i <span class="op">=</span> state[col_i]</span>
<span id="cb8-9"><a></a>            row_j <span class="op">=</span> state[col_j]</span>
<span id="cb8-10"><a></a>            <span class="cf">if</span> row_i <span class="op">==</span> row_j:                 <span class="co"># same row</span></span>
<span id="cb8-11"><a></a>                conflicts <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb8-12"><a></a>            <span class="cf">if</span> col_i <span class="op">-</span> row_i <span class="op">==</span> col_j <span class="op">-</span> row_j: <span class="co"># same diagonal</span></span>
<span id="cb8-13"><a></a>                conflicts <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb8-14"><a></a>            <span class="cf">if</span> col_i <span class="op">+</span> row_i <span class="op">==</span> col_j <span class="op">+</span> row_j: <span class="co"># same anti-diagonal</span></span>
<span id="cb8-15"><a></a>                conflicts <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb8-16"><a></a></span>
<span id="cb8-17"><a></a>    <span class="cf">return</span> conflicts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="calculate_conflicts-1" class="slide level2">
<h2><code>calculate_conflicts</code></h2>
<div id="2c17f575" class="cell" data-execution_count="12">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-13-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img data-src="slides_files/figure-revealjs/cell-13-output-1.png" class="quarto-figure quarto-figure-center" width="389" height="409"></a></p>
</figure>
</div>
</div>
</div>

<aside><div>
<div id="0ef0b363" class="cell" data-execution_count="13">
<div class="cell-output cell-output-stdout">
<pre><code>5</code></pre>
</div>
</div>
</div></aside></section>
<section id="get_neighbors_rn" class="slide level2">
<h2><code>get_neighbors_rn</code></h2>
<div id="4019b69e" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a></a><span class="kw">def</span> get_neighbors_rn(state):</span>
<span id="cb10-2"><a></a></span>
<span id="cb10-3"><a></a>    <span class="co">"""Generates neighboring states by moving on queen at a time to a new row."""</span></span>
<span id="cb10-4"><a></a></span>
<span id="cb10-5"><a></a>    neighbors <span class="op">=</span> []</span>
<span id="cb10-6"><a></a>    n <span class="op">=</span> <span class="bu">len</span>(state)</span>
<span id="cb10-7"><a></a></span>
<span id="cb10-8"><a></a>    <span class="cf">for</span> col <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb10-9"><a></a>        <span class="cf">for</span> row <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb10-10"><a></a>            <span class="cf">if</span> (state[col] <span class="op">!=</span> row):</span>
<span id="cb10-11"><a></a>              new_state <span class="op">=</span> state[:] <span class="co"># create a copy of the state</span></span>
<span id="cb10-12"><a></a>              new_state[col] <span class="op">=</span> row</span>
<span id="cb10-13"><a></a>              neighbors.append(new_state)</span>
<span id="cb10-14"><a></a></span>
<span id="cb10-15"><a></a>    <span class="cf">return</span> neighbors</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<aside><div>
<p><span class="citation" data-cites="Russell:2020aa">Russell and Norvig (<a href="#/references" role="doc-biblioref" onclick="">2020</a>)</span>, <span class="math inline">\(8 \times 7 = 56\)</span> neighbours</p>
</div></aside></section>
<section id="get_neighbors_rn-1" class="slide level2 scrollable">
<h2><code>get_neighbors_rn</code></h2>
<div id="fecf137f" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a></a>initial_state_8 <span class="op">=</span> create_initial_state(<span class="dv">8</span>)</span>
<span id="cb11-2"><a></a><span class="bu">print</span>(initial_state_8)</span>
<span id="cb11-3"><a></a><span class="cf">for</span> s <span class="kw">in</span> get_neighbors_rn(initial_state_8):</span>
<span id="cb11-4"><a></a>  <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>s<span class="sc">}</span><span class="ss"> -&gt; # of conflicts = </span><span class="sc">{</span>calculate_conflicts(s)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[3, 2, 7, 1, 6, 0, 4, 5]
[0, 2, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 5
[1, 2, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 6
[2, 2, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 6
[4, 2, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 6
[5, 2, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 7
[6, 2, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 5
[7, 2, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 5
[3, 0, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 5
[3, 1, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 5
[3, 3, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 7
[3, 4, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 7
[3, 5, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 5
[3, 6, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 6
[3, 7, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 5
[3, 2, 0, 1, 6, 0, 4, 5] -&gt; # of conflicts = 9
[3, 2, 1, 1, 6, 0, 4, 5] -&gt; # of conflicts = 8
[3, 2, 2, 1, 6, 0, 4, 5] -&gt; # of conflicts = 7
[3, 2, 3, 1, 6, 0, 4, 5] -&gt; # of conflicts = 8
[3, 2, 4, 1, 6, 0, 4, 5] -&gt; # of conflicts = 7
[3, 2, 5, 1, 6, 0, 4, 5] -&gt; # of conflicts = 7
[3, 2, 6, 1, 6, 0, 4, 5] -&gt; # of conflicts = 6
[3, 2, 7, 0, 6, 0, 4, 5] -&gt; # of conflicts = 6
[3, 2, 7, 2, 6, 0, 4, 5] -&gt; # of conflicts = 5
[3, 2, 7, 3, 6, 0, 4, 5] -&gt; # of conflicts = 4
[3, 2, 7, 4, 6, 0, 4, 5] -&gt; # of conflicts = 5
[3, 2, 7, 5, 6, 0, 4, 5] -&gt; # of conflicts = 5
[3, 2, 7, 6, 6, 0, 4, 5] -&gt; # of conflicts = 6
[3, 2, 7, 7, 6, 0, 4, 5] -&gt; # of conflicts = 6
[3, 2, 7, 1, 0, 0, 4, 5] -&gt; # of conflicts = 6
[3, 2, 7, 1, 1, 0, 4, 5] -&gt; # of conflicts = 6
[3, 2, 7, 1, 2, 0, 4, 5] -&gt; # of conflicts = 8
[3, 2, 7, 1, 3, 0, 4, 5] -&gt; # of conflicts = 5
[3, 2, 7, 1, 4, 0, 4, 5] -&gt; # of conflicts = 5
[3, 2, 7, 1, 5, 0, 4, 5] -&gt; # of conflicts = 7
[3, 2, 7, 1, 7, 0, 4, 5] -&gt; # of conflicts = 6
[3, 2, 7, 1, 6, 1, 4, 5] -&gt; # of conflicts = 6
[3, 2, 7, 1, 6, 2, 4, 5] -&gt; # of conflicts = 6
[3, 2, 7, 1, 6, 3, 4, 5] -&gt; # of conflicts = 9
[3, 2, 7, 1, 6, 4, 4, 5] -&gt; # of conflicts = 7
[3, 2, 7, 1, 6, 5, 4, 5] -&gt; # of conflicts = 8
[3, 2, 7, 1, 6, 6, 4, 5] -&gt; # of conflicts = 7
[3, 2, 7, 1, 6, 7, 4, 5] -&gt; # of conflicts = 8
[3, 2, 7, 1, 6, 0, 0, 5] -&gt; # of conflicts = 3
[3, 2, 7, 1, 6, 0, 1, 5] -&gt; # of conflicts = 4
[3, 2, 7, 1, 6, 0, 2, 5] -&gt; # of conflicts = 3
[3, 2, 7, 1, 6, 0, 3, 5] -&gt; # of conflicts = 4
[3, 2, 7, 1, 6, 0, 5, 5] -&gt; # of conflicts = 3
[3, 2, 7, 1, 6, 0, 6, 5] -&gt; # of conflicts = 4
[3, 2, 7, 1, 6, 0, 7, 5] -&gt; # of conflicts = 4
[3, 2, 7, 1, 6, 0, 4, 0] -&gt; # of conflicts = 4
[3, 2, 7, 1, 6, 0, 4, 1] -&gt; # of conflicts = 4
[3, 2, 7, 1, 6, 0, 4, 2] -&gt; # of conflicts = 6
[3, 2, 7, 1, 6, 0, 4, 3] -&gt; # of conflicts = 6
[3, 2, 7, 1, 6, 0, 4, 4] -&gt; # of conflicts = 4
[3, 2, 7, 1, 6, 0, 4, 6] -&gt; # of conflicts = 4
[3, 2, 7, 1, 6, 0, 4, 7] -&gt; # of conflicts = 4</code></pre>
</div>
</div>
</section>
<section id="get_neighbors" class="slide level2">
<h2><code>get_neighbors</code></h2>
<div id="679d876e" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a></a><span class="kw">def</span> get_neighbors(state):</span>
<span id="cb13-2"><a></a></span>
<span id="cb13-3"><a></a>    <span class="co">"""Generates neighboring states by swapping two rows."""</span></span>
<span id="cb13-4"><a></a></span>
<span id="cb13-5"><a></a>    neighbors <span class="op">=</span> []</span>
<span id="cb13-6"><a></a>    n <span class="op">=</span> <span class="bu">len</span>(state)</span>
<span id="cb13-7"><a></a></span>
<span id="cb13-8"><a></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb13-9"><a></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(i <span class="op">+</span> <span class="dv">1</span>, n):</span>
<span id="cb13-10"><a></a>            new_state <span class="op">=</span> state[:]</span>
<span id="cb13-11"><a></a>            new_state[i], new_state[j] <span class="op">=</span> new_state[j], new_state[i]</span>
<span id="cb13-12"><a></a>            neighbors.append(new_state)</span>
<span id="cb13-13"><a></a></span>
<span id="cb13-14"><a></a>    <span class="cf">return</span> neighbors</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<aside><div>
<p><span class="math inline">\(\frac{8 \times 7}{2} = 28\)</span> neighbours</p>
</div></aside></section>
<section id="get_neighbors-1" class="slide level2 scrollable">
<h2><code>get_neighbors</code></h2>
<div id="dd2b99e3" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a></a><span class="bu">print</span>(initial_state_8)</span>
<span id="cb14-2"><a></a><span class="cf">for</span> s <span class="kw">in</span> get_neighbors(initial_state_8):</span>
<span id="cb14-3"><a></a>  <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>s<span class="sc">}</span><span class="ss"> -&gt; # of conflicts = </span><span class="sc">{</span>calculate_conflicts(s)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[3, 2, 7, 1, 6, 0, 4, 5]
[2, 3, 7, 1, 6, 0, 4, 5] -&gt; # of conflicts = 8
[7, 2, 3, 1, 6, 0, 4, 5] -&gt; # of conflicts = 6
[1, 2, 7, 3, 6, 0, 4, 5] -&gt; # of conflicts = 3
[6, 2, 7, 1, 3, 0, 4, 5] -&gt; # of conflicts = 3
[0, 2, 7, 1, 6, 3, 4, 5] -&gt; # of conflicts = 7
[4, 2, 7, 1, 6, 0, 3, 5] -&gt; # of conflicts = 3
[5, 2, 7, 1, 6, 0, 4, 3] -&gt; # of conflicts = 6
[3, 7, 2, 1, 6, 0, 4, 5] -&gt; # of conflicts = 5
[3, 1, 7, 2, 6, 0, 4, 5] -&gt; # of conflicts = 3
[3, 6, 7, 1, 2, 0, 4, 5] -&gt; # of conflicts = 7
[3, 0, 7, 1, 6, 2, 4, 5] -&gt; # of conflicts = 4
[3, 4, 7, 1, 6, 0, 2, 5] -&gt; # of conflicts = 3
[3, 5, 7, 1, 6, 0, 4, 2] -&gt; # of conflicts = 4
[3, 2, 1, 7, 6, 0, 4, 5] -&gt; # of conflicts = 7
[3, 2, 6, 1, 7, 0, 4, 5] -&gt; # of conflicts = 5
[3, 2, 0, 1, 6, 7, 4, 5] -&gt; # of conflicts = 10
[3, 2, 4, 1, 6, 0, 7, 5] -&gt; # of conflicts = 4
[3, 2, 5, 1, 6, 0, 4, 7] -&gt; # of conflicts = 4
[3, 2, 7, 6, 1, 0, 4, 5] -&gt; # of conflicts = 5
[3, 2, 7, 0, 6, 1, 4, 5] -&gt; # of conflicts = 5
[3, 2, 7, 4, 6, 0, 1, 5] -&gt; # of conflicts = 4
[3, 2, 7, 5, 6, 0, 4, 1] -&gt; # of conflicts = 4
[3, 2, 7, 1, 0, 6, 4, 5] -&gt; # of conflicts = 6
[3, 2, 7, 1, 4, 0, 6, 5] -&gt; # of conflicts = 4
[3, 2, 7, 1, 5, 0, 4, 6] -&gt; # of conflicts = 4
[3, 2, 7, 1, 6, 4, 0, 5] -&gt; # of conflicts = 3
[3, 2, 7, 1, 6, 5, 4, 0] -&gt; # of conflicts = 5
[3, 2, 7, 1, 6, 0, 5, 4] -&gt; # of conflicts = 2</code></pre>
</div>
</div>
</section>
<section id="hill_climbing" class="slide level2">
<h2><code>hill_climbing</code></h2>
<div id="b3d597d4" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a></a><span class="kw">def</span> hill_climbing(current_state):</span>
<span id="cb16-2"><a></a></span>
<span id="cb16-3"><a></a>    current_conflicts <span class="op">=</span> calculate_conflicts(current_state)</span>
<span id="cb16-4"><a></a></span>
<span id="cb16-5"><a></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb16-6"><a></a></span>
<span id="cb16-7"><a></a>        <span class="cf">if</span> current_conflicts <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb16-8"><a></a>          <span class="cf">return</span> curent_state</span>
<span id="cb16-9"><a></a></span>
<span id="cb16-10"><a></a>        neighbors <span class="op">=</span> get_neighbors(current_state)</span>
<span id="cb16-11"><a></a></span>
<span id="cb16-12"><a></a>        conflicts <span class="op">=</span> [calculate_conflicts(neighbor) <span class="cf">for</span> neighbor <span class="kw">in</span> neighbors]</span>
<span id="cb16-13"><a></a></span>
<span id="cb16-14"><a></a>        <span class="cf">if</span> (<span class="bu">min</span>(conflicts)) <span class="op">&gt;</span> current_conflicts:</span>
<span id="cb16-15"><a></a>          <span class="cf">return</span> <span class="va">None</span> <span class="co"># No improvement found, stuck at local minimum</span></span>
<span id="cb16-16"><a></a></span>
<span id="cb16-17"><a></a>        arg_best <span class="op">=</span> np.argmin(conflicts)</span>
<span id="cb16-18"><a></a>        curent_state <span class="op">=</span> neighbors[arg_best]</span>
<span id="cb16-19"><a></a>        current_conflicts <span class="op">=</span> conflicts[arg_best]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>The program above presents a major issue. What exactly is it?</p>
<p>It is important to note that, in this particular context, the problem is defined such that the sought solution is free of any conflict. However, in some optimization problems, the minimum value of the objective function is not predetermined.</p>
<p>The main issue is that the algorithm might enter an infinite loop if the condition <code>min(conflicts == current_conflicts)</code> is satisfied.</p>
<p>Two scenarios may arise: either the plateau is followed by an ascending slope, or it represents a local maximum. In the first case, the algorithm could potentially exit the plateau, although this is not guaranteed. To prevent infinite loops, it would be wise to implement an appropriate mechanism.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="hill_climbing-take-2" class="slide level2">
<h2><code>hill_climbing</code> (take 2)</h2>
<div id="c860d313" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a></a>MAX_SIDE_MOVES <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb17-2"><a></a></span>
<span id="cb17-3"><a></a><span class="kw">def</span> hill_climbing(current_state):</span>
<span id="cb17-4"><a></a></span>
<span id="cb17-5"><a></a>    conflicts_current_state <span class="op">=</span> calculate_conflicts(current_state)</span>
<span id="cb17-6"><a></a>    side_moves <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb17-7"><a></a></span>
<span id="cb17-8"><a></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb17-9"><a></a></span>
<span id="cb17-10"><a></a>        <span class="cf">if</span> conflicts_current_state <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb17-11"><a></a>          <span class="cf">return</span> current_state</span>
<span id="cb17-12"><a></a></span>
<span id="cb17-13"><a></a>        neighbors <span class="op">=</span> get_neighbors(current_state)</span>
<span id="cb17-14"><a></a></span>
<span id="cb17-15"><a></a>        conflicts <span class="op">=</span> [calculate_conflicts(voisin) <span class="cf">for</span> voisin <span class="kw">in</span> neighbors]</span>
<span id="cb17-16"><a></a></span>
<span id="cb17-17"><a></a>        <span class="cf">if</span> (<span class="bu">min</span>(conflicts)) <span class="op">&gt;</span> conflicts_current_state:</span>
<span id="cb17-18"><a></a>          <span class="cf">return</span> <span class="va">None</span>  <span class="co"># No improvement, local maxima</span></span>
<span id="cb17-19"><a></a></span>
<span id="cb17-20"><a></a>        <span class="cf">if</span> (<span class="bu">min</span>(conflicts)) <span class="op">==</span> conflicts_current_state:</span>
<span id="cb17-21"><a></a>          side_moves <span class="op">+=</span> <span class="dv">1</span>  <span class="co"># Plateau</span></span>
<span id="cb17-22"><a></a></span>
<span id="cb17-23"><a></a>        <span class="cf">if</span> side_moves <span class="op">&gt;</span> MAX_SIDE_MOVES:</span>
<span id="cb17-24"><a></a>          <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb17-25"><a></a></span>
<span id="cb17-26"><a></a>        arg_best <span class="op">=</span> np.argmin(conflicts)</span>
<span id="cb17-27"><a></a>        current_state <span class="op">=</span> neighbors[arg_best]</span>
<span id="cb17-28"><a></a>        conflicts_current_state <span class="op">=</span> conflicts[arg_best]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solve" class="slide level2 scrollable">
<h2>Solve</h2>
<div id="ca0c5700" class="cell" data-execution_count="20">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-21-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img data-src="slides_files/figure-revealjs/cell-21-output-1.png" width="463" height="483"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-21-output-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img data-src="slides_files/figure-revealjs/cell-21-output-2.png" width="463" height="483"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-21-output-3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img data-src="slides_files/figure-revealjs/cell-21-output-3.png" width="463" height="483"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-21-output-4.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img data-src="slides_files/figure-revealjs/cell-21-output-4.png" width="463" height="483"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-21-output-5.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img data-src="slides_files/figure-revealjs/cell-21-output-5.png" width="463" height="483"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-21-output-6.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img data-src="slides_files/figure-revealjs/cell-21-output-6.png" width="463" height="483"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-21-output-7.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img data-src="slides_files/figure-revealjs/cell-21-output-7.png" width="463" height="483"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-21-output-8.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img data-src="slides_files/figure-revealjs/cell-21-output-8.png" width="463" height="483"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-21-output-9.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img data-src="slides_files/figure-revealjs/cell-21-output-9.png" width="463" height="483"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>10 runs, number of solutions = 9, 0 duplicate(s)</code></pre>
</div>
</div>
</section>
<section id="solve-2" class="slide level2 scrollable">
<h2>Solve (2)</h2>
<div id="d62212ba" class="cell" data-execution_count="21">
<div class="cell-output cell-output-stdout">
<pre><code>1000 runs, number of solutions = 704, 92 unique solutions</code></pre>
</div>
</div>
</section>
<section id="solve-40-queens" class="slide level2 scrollable">
<h2>Solve 40-Queens</h2>
<p><span class="math inline">\(40! = 8.1591528325 \times 10^{47}\)</span></p>
<div class="fragment">
<div id="6a57e14c" class="cell" data-execution_count="23">
<div class="cell-output cell-output-stdout">
<pre><code>10 runs, number of solutions = 6, 6 unique solutions</code></pre>
</div>
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-24-output-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img data-src="slides_files/figure-revealjs/cell-24-output-2.png" class="quarto-figure quarto-figure-center" width="922" height="936"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Elapsed time: 30.8039 seconds</code></pre>
</div>
</div>
</div>
</section>
<section id="iterations-and-side-moves" class="slide level2">
<h2>Iterations and Side Moves</h2>
<div id="a40002f7" class="cell" data-execution_count="25">
<div class="cell-output cell-output-stdout">
<pre><code>1000 runs, number of solutions = 704, 92 unique solutions</code></pre>
</div>
</div>
<div id="cadb257f" class="cell" data-execution_count="26">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-27-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img data-src="slides_files/figure-revealjs/cell-27-output-1.png" width="1333" height="564"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="queens-1" class="slide level2">
<h2>20-Queens</h2>
<div id="95d8cdfd" class="cell" data-execution_count="27">
<div class="cell-output cell-output-stdout">
<pre><code>1000 runs, number of solutions = 566, 566 unique solutions</code></pre>
</div>
</div>
<div id="533874d2" class="cell" data-execution_count="28">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-29-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img data-src="slides_files/figure-revealjs/cell-29-output-1.png" width="1333" height="564"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="russell-norvig" class="slide level2">
<h2>Russell &amp; Norvig</h2>
<ul>
<li class="fragment">Hill climbing <strong>gets stuck 86%</strong> of the time.
<ul>
<li class="fragment">Successful attempts average 4 steps to a solution.</li>
</ul></li>
<li class="fragment">Permitting <strong>100 lateral moves</strong> boosts success rate from 14% to 94%.</li>
<li class="fragment">The problem space comprises <span class="math inline">\(8^8 = 16,777,216\)</span> states.
<ul>
<li class="fragment">Implementation from Russell &amp; Norvig</li>
</ul></li>
</ul>

<aside class="notes">
<p>In the implementation I proposed, there do not appear to be any local minima. However, this requires further verification.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p>Has many variants, including <strong>random-restart hill climbing</strong>.</p>
</div></aside></section>
<section id="escaping-a-local-optimum" class="slide level2">
<h2>Escaping a Local Optimum</h2>
<p>What mechanisms would enable the <strong>hill climbing</strong> algorithm to escape from a local optimum, whether it be a local minimum or maximum?</p>
<aside class="notes">
<p>It needs to accept going downhill.</p>
<p>A random walk approach, which disregards the value of the objective function, could theoretically locate the global maximum. However, this method is highly impractical due to its extreme inefficiency.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="remark" class="slide level2">
<h2>Remark</h2>
<p>Assume the optimization problem is a <strong>minimization task</strong>, where the goal is to find a solution with the <strong>minimum cost</strong>.</p>

<aside><div>
<p>Downhill, gradient descent.</p>
</div></aside></section></section>
<section>
<section id="simulated-annealing" class="title-slide slide level1 center">
<h1>Simulated Annealing</h1>

</section>
<section id="definition-1" class="slide level2">
<h2>Definition</h2>
<p><strong>Simulated annealing</strong> is an optimization algorithm inspired by the annealing process in metallurgy. It probabilistically explores the solution space by allowing <strong>occasional uphill moves</strong>, which helps <strong>escape local optima</strong>. The algorithm <strong>gradually reduces the probability of accepting worse solutions</strong> by lowering a “temperature” parameter, ultimately converging towards an optimal or near-optimal solution.</p>
</section>
<section id="annealing" class="slide level2">
<h2>Annealing</h2>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><i class="fa-solid fa-quote-right" aria-label="quote-right"></i> <span class="citation" data-cites="Russell:2020aa">(<a href="#/references" role="doc-biblioref" onclick="">Russell and Norvig 2020, 114</a>)</span></strong></p>
</div>
<div class="callout-content">
<p>In <strong>metallurgy</strong>, <strong>annealing</strong> is the process used to temper or harden metals and glass by <strong>heating them to a high temperature</strong> and <strong>then gradually cooling them</strong>, thus allowing the material to reach a <strong>low-energy crystalline state</strong>.</p>
</div>
</div>
</div>
<aside class="notes">
<p>The solid is heated to its melting point, causing the particles to become randomly distributed.</p>
<p>Subsequently, the material is gradually cooled, allowing the particles to reorganize into a low-energy state.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="algorithm" class="slide level2">
<h2>Algorithm</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/search_simulated_annealing.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img data-src="../../assets/images/search_simulated_annealing.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside class="notes">
<ol type="1">
<li><p>This algorithm resembles hill climbing but differs by randomly selecting the next state rather than choosing the optimal move.</p></li>
<li><p>If the move results in a lower objective function value, it is accepted unconditionally.</p></li>
<li><p>Otherwise, acceptance is probabilistic, contingent on both <span class="math inline">\(\Delta E\)</span> and <span class="math inline">\(T\)</span>.</p></li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p><strong>Attribution</strong>: <span class="citation" data-cites="Russell:2020aa">(<a href="#/references" role="doc-biblioref" onclick="">Russell and Norvig 2020, 115</a>)</span></p>
</div></aside></section>
<section id="varying-delta-e" class="slide level2">
<h2>Varying <span class="math inline">\(\Delta E\)</span></h2>
<div id="29d01b8e" class="cell" data-execution_count="29">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-30-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img data-src="slides_files/figure-revealjs/cell-30-output-1.png" class="quarto-figure quarto-figure-center" width="669" height="453"></a></p>
</figure>
</div>
</div>
</div>

<aside><div>
<p>Moves resulting in <strong>significant negative changes</strong> (worse) to the objective function are <strong>less likely to be accepted</strong>.</p>
</div></aside></section>
<section id="varying-the-temperature-t" class="slide level2">
<h2>Varying the temperature, <span class="math inline">\(T\)</span></h2>
<div id="57161005" class="cell" data-execution_count="30">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-31-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21"><img data-src="slides_files/figure-revealjs/cell-31-output-1.png" class="quarto-figure quarto-figure-center" width="669" height="451"></a></p>
</figure>
</div>
</div>
</div>

<aside><div>
<p>For a fixed <span class="math inline">\(\Delta E\)</span> (here <span class="math inline">\(0.1\)</span>), changes are more likely to be accepted whe <span class="math inline">\(T\)</span> is high, at the start of the algorithm.</p>
</div></aside></section>
<section id="varying-the-temperature-and-delta-e" class="slide level2">
<h2>Varying the temperature and <span class="math inline">\(\Delta E\)</span></h2>
<div id="7b66d534" class="cell" data-execution_count="31">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-32-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22"><img data-src="slides_files/figure-revealjs/cell-32-output-1.png" class="quarto-figure quarto-figure-center" width="818" height="525"></a></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>Bad moves are more likely to be accepted at the start when <span class="math inline">\(T\)</span> is high, and less likely as <span class="math inline">\(T\)</span> decreases.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="varying-the-temperature-and-delta-e-1" class="slide level2">
<h2>Varying the temperature and <span class="math inline">\(\Delta E\)</span></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code hidden" id="cb24" data-startfrom="1033" data-source-offset="-0"><pre class="sourceCode numberSource js number-lines code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1032;"><span id="cb24-1033"><a></a><span class="im">import</span> { Inputs<span class="op">,</span> Plot } <span class="im">from</span> <span class="st">"@observablehq/plot"</span></span>
<span id="cb24-1034"><a></a></span>
<span id="cb24-1035"><a></a>viewof deltaE <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="fl">0.01</span><span class="op">,</span> <span class="dv">100</span>]<span class="op">,</span> {<span class="dt">step</span><span class="op">:</span> <span class="fl">0.01</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="fl">0.1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"ΔE"</span><span class="op">,</span> <span class="dt">width</span><span class="op">:</span> <span class="dv">300</span>})</span>
<span id="cb24-1036"><a></a></span>
<span id="cb24-1037"><a></a>T_values <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>({<span class="dt">length</span><span class="op">:</span> <span class="dv">1000</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> (i <span class="op">+</span> <span class="dv">1</span>) <span class="op">*</span> <span class="fl">0.1</span>)</span>
<span id="cb24-1038"><a></a></span>
<span id="cb24-1039"><a></a><span class="kw">function</span> <span class="fu">computeData</span>(deltaE) {</span>
<span id="cb24-1040"><a></a>  <span class="cf">return</span> T_values<span class="op">.</span><span class="fu">map</span>(T <span class="kw">=&gt;</span> ({</span>
<span id="cb24-1041"><a></a>    <span class="dt">T</span><span class="op">:</span> T<span class="op">,</span></span>
<span id="cb24-1042"><a></a>    <span class="dt">value</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">exp</span>(<span class="op">-</span>deltaE <span class="op">/</span> T)</span>
<span id="cb24-1043"><a></a>  }))</span>
<span id="cb24-1044"><a></a>}</span>
<span id="cb24-1045"><a></a></span>
<span id="cb24-1046"><a></a>data <span class="op">=</span> <span class="fu">computeData</span>(deltaE)</span>
<span id="cb24-1047"><a></a></span>
<span id="cb24-1048"><a></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb24-1049"><a></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb24-1050"><a></a>    Plot<span class="op">.</span><span class="fu">line</span>(data<span class="op">,</span> {</span>
<span id="cb24-1051"><a></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"T"</span><span class="op">,</span> </span>
<span id="cb24-1052"><a></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"value"</span><span class="op">,</span> </span>
<span id="cb24-1053"><a></a>      <span class="dt">stroke</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> </span>
<span id="cb24-1054"><a></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span></span>
<span id="cb24-1055"><a></a>    })<span class="op">,</span></span>
<span id="cb24-1056"><a></a>    Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span>})<span class="op">,</span> <span class="co">// X-axis line</span></span>
<span id="cb24-1057"><a></a>    Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span>})  <span class="co">// Y-axis line</span></span>
<span id="cb24-1058"><a></a>  ]</span>
<span id="cb24-1059"><a></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-6" data-nodetype="expression">

</div>
</div>
</div>
</div>

<aside><div>
<p>Using <strong><a href="https://observablehq.com/plot/">Observable JS</a></strong>.</p>
</div></aside></section>
<section id="theory" class="slide level2">
<h2>Theory</h2>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><i class="fa-solid fa-quote-right" aria-label="quote-right"></i> <span class="citation" data-cites="Russell:2020aa">(<a href="#/references" role="doc-biblioref" onclick="">Russell and Norvig 2020, 114</a>)</span></strong></p>
</div>
<div class="callout-content">
<p>If the schedule lowers <span class="math inline">\(T\)</span> to 0 slowly enough, then a property of the <strong>Boltzmann</strong> (aka <strong>Gibbs</strong>) distribution, <span class="math inline">\(e^{\frac{\Delta E}{T}}\)</span>, is that all the probability is concentrated on the global maxima, which the algorithm will find with probability approaching 1.</p>
</div>
</div>
</div>
</section>
<section id="definition-2" class="slide level2">
<h2>Definition</h2>
<p>The <strong>Travelling Salesman Problem (TSP)</strong> is a classic optimization problem that seeks the shortest possible route for a salesman to visit a set of cities, returning to the origin city, while visiting each city exactly once.</p>
<aside class="notes">
<p>The challenge lies in determining the most efficient path, especially as the number of cities increases, due to the combinatorial explosion of possible routes.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="how-to-represent-a-solution" class="slide level2">
<h2>How to Represent a Solution?</h2>
<div class="fragment">
<p>We will use a <strong>list</strong> where each element represents the index of a city, and the order of elements indicates the <strong>sequence of city visits</strong>.</p>
</div>
</section>
<section id="calculate-the-total-distance" class="slide level2">
<h2>Calculate the Total Distance</h2>
<div id="fc6dc82d" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a></a><span class="co"># Function to calculate the total distance of a given route</span></span>
<span id="cb25-2"><a></a></span>
<span id="cb25-3"><a></a><span class="kw">def</span> calculate_total_distance(route, distance_matrix):</span>
<span id="cb25-4"><a></a></span>
<span id="cb25-5"><a></a>    total_distance <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb25-6"><a></a></span>
<span id="cb25-7"><a></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(route) <span class="op">-</span> <span class="dv">1</span>):</span>
<span id="cb25-8"><a></a>        total_distance <span class="op">+=</span> distance_matrix[route[i], route[i <span class="op">+</span> <span class="dv">1</span>]]</span>
<span id="cb25-9"><a></a></span>
<span id="cb25-10"><a></a>    total_distance <span class="op">+=</span> distance_matrix[route[<span class="op">-</span><span class="dv">1</span>], route[<span class="dv">0</span>]]  <span class="co"># Back to start</span></span>
<span id="cb25-11"><a></a></span>
<span id="cb25-12"><a></a>    <span class="cf">return</span> total_distance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="generating-a-neighboring-solution" class="slide level2">
<h2>Generating a Neighboring Solution</h2>
<p><strong>How</strong> to generate a neighboring solution?</p>
</section>
<section id="swap-two-cities" class="slide level2">
<h2>Swap Two Cities</h2>
<ul>
<li><strong>Description</strong>: Select two cities at random and swap their positions.</li>
<li><strong>Pros</strong>: Simple and effective for exploring nearby solutions.</li>
<li><strong>Cons</strong>: Change may be too small, potentially slowing down convergence.</li>
</ul>
</section>
<section id="reverse-segment" class="slide level2">
<h2>Reverse Segment</h2>
<ul>
<li><strong>Description</strong>: Select two indices and reverse the segment between them.</li>
<li><strong>Pros</strong>: More effective at finding shorter paths compared to simple swaps.</li>
<li><strong>Cons</strong>: Can still be computationally expensive as the number of cities increases.</li>
</ul>
</section>
<section id="remove-reconnect" class="slide level2">
<h2>Remove &amp; Reconnect</h2>
<ul>
<li><strong>Description</strong>: Removes three edges from the route and reconnects the segments in the best possible way. This can generate up to 7 different routes.</li>
<li><strong>Pros</strong>: Provides more extensive changes and can escape local optima more effectively than 2-opt.</li>
<li><strong>Cons</strong>: More complex and computationally expensive to implement.</li>
</ul>
</section>
<section id="insertion-move" class="slide level2">
<h2>Insertion Move</h2>
<ul>
<li><strong>Description</strong>: Select a city and move it to a different position in the route.</li>
<li><strong>Pros</strong>: Offers a balance between small and large changes, making it useful for fine-tuning solutions.</li>
<li><strong>Cons</strong>: May require more iterations to converge to an optimal solution.</li>
</ul>
</section>
<section id="shuffle-subset" class="slide level2">
<h2>Shuffle Subset</h2>
<ul>
<li><strong>Description</strong>: Select a subset of cities in the route and randomly shuffle their order.</li>
<li><strong>Pros</strong>: Introduces larger changes and can help escape local minima.</li>
<li><strong>Cons</strong>: Can lead to less efficient routes if not handled carefully.</li>
</ul>
</section>
<section id="generating-a-neighboring-solution-1" class="slide level2">
<h2>Generating a Neighboring Solution</h2>
<div id="ef0d0214" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a></a><span class="co"># Function to generate a random neighboring solution</span></span>
<span id="cb26-2"><a></a></span>
<span id="cb26-3"><a></a><span class="kw">def</span> get_neighbor(route):</span>
<span id="cb26-4"><a></a></span>
<span id="cb26-5"><a></a>    a, b <span class="op">=</span> np.random.randint(<span class="dv">0</span>, <span class="bu">len</span>(route), size<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb26-6"><a></a></span>
<span id="cb26-7"><a></a>    <span class="cf">if</span> a <span class="op">&gt;</span> b:</span>
<span id="cb26-8"><a></a>        a, b <span class="op">=</span> b, a</span>
<span id="cb26-9"><a></a></span>
<span id="cb26-10"><a></a>    new_route <span class="op">=</span> route.copy()</span>
<span id="cb26-11"><a></a>    new_route[a:b<span class="op">+</span><span class="dv">1</span>] <span class="op">=</span> new_route[a:b<span class="op">+</span><span class="dv">1</span>][::<span class="op">-</span><span class="dv">1</span>]  <span class="co"># Reverse the segment between a and b</span></span>
<span id="cb26-12"><a></a>    </span>
<span id="cb26-13"><a></a>    <span class="cf">return</span> new_route</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="simulated_annealing" class="slide level2 scrollable">
<h2><code>simulated_annealing</code></h2>
<div id="08a01857" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a></a><span class="kw">def</span> simulated_annealing(distance_matrix, initial_temp, cooling_rate, max_iterations):</span>
<span id="cb27-2"><a></a></span>
<span id="cb27-3"><a></a>    num_cities <span class="op">=</span> <span class="bu">len</span>(distance_matrix)</span>
<span id="cb27-4"><a></a>    current_route <span class="op">=</span> np.arange(num_cities)</span>
<span id="cb27-5"><a></a>    np.random.shuffle(current_route)</span>
<span id="cb27-6"><a></a>    current_cost <span class="op">=</span> calculate_total_distance(current_route, distance_matrix)</span>
<span id="cb27-7"><a></a>    </span>
<span id="cb27-8"><a></a>    best_route <span class="op">=</span> current_route.copy()</span>
<span id="cb27-9"><a></a>    best_cost <span class="op">=</span> current_cost</span>
<span id="cb27-10"><a></a></span>
<span id="cb27-11"><a></a>    temperature <span class="op">=</span> initial_temp</span>
<span id="cb27-12"><a></a></span>
<span id="cb27-13"><a></a>    <span class="cf">for</span> iteration <span class="kw">in</span> <span class="bu">range</span>(max_iterations):</span>
<span id="cb27-14"><a></a></span>
<span id="cb27-15"><a></a>        neighbor_route <span class="op">=</span> get_neighbor(current_route)</span>
<span id="cb27-16"><a></a>        neighbor_cost <span class="op">=</span> calculate_total_distance(neighbor_route, distance_matrix)</span>
<span id="cb27-17"><a></a>        </span>
<span id="cb27-18"><a></a>        <span class="co"># Accept the neighbor if it is better, or with a probability if it is worse.</span></span>
<span id="cb27-19"><a></a></span>
<span id="cb27-20"><a></a>        delta_E <span class="op">=</span> neighbor_cost <span class="op">-</span> current_cost</span>
<span id="cb27-21"><a></a></span>
<span id="cb27-22"><a></a>        <span class="cf">if</span> neighbor_cost <span class="op">&lt;</span> current_cost <span class="kw">or</span> np.random.rand() <span class="op">&lt;</span> np.exp(<span class="op">-</span>(delta_E)<span class="op">/</span>temperature):</span>
<span id="cb27-23"><a></a>            current_route <span class="op">=</span> neighbor_route</span>
<span id="cb27-24"><a></a>            current_cost <span class="op">=</span> neighbor_cost</span>
<span id="cb27-25"><a></a></span>
<span id="cb27-26"><a></a>            <span class="cf">if</span> current_cost <span class="op">&lt;</span> best_cost:</span>
<span id="cb27-27"><a></a>                best_route <span class="op">=</span> current_route.copy()</span>
<span id="cb27-28"><a></a>                best_cost <span class="op">=</span> current_cost</span>
<span id="cb27-29"><a></a></span>
<span id="cb27-30"><a></a>        <span class="co"># Cool down the temperature</span></span>
<span id="cb27-31"><a></a>        temperature <span class="op">*=</span> cooling_rate</span>
<span id="cb27-32"><a></a></span>
<span id="cb27-33"><a></a>    <span class="cf">return</span> best_route, best_cost, temperatures, costs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="remarks" class="slide level2">
<h2>Remarks</h2>
<ul>
<li>As <span class="math inline">\(t \to \infty\)</span>, the algorithm exhibits behavior characteristic of a <strong>random walk</strong>. During this phase, any neighboring state, regardless of whether it improves the objective function, is accepted. This facilitates exploration and occurs at the start of the algorithm’s execution.</li>
</ul>
</section>
<section id="remarks-1" class="slide level2">
<h2>Remarks</h2>
<ul>
<li>Conversely, as <span class="math inline">\(t \to 0\)</span>, the algorithm behaves like <strong>hill climbing</strong>. In this phase, only those states that enhance the objective function’s value are accepted, ensuring that the algorithm consistently moves towards optimal solutions—specifically, towards lower values in minimization problems. This phase emphasizes the exploitation of promising solutions and occurs towards the algorithm’s conclusion.</li>
</ul>

<aside class="notes">
<ol type="1">
<li><strong>Exploration</strong>:
<ul>
<li>Exploration involves searching through a broad area of the search space to discover new possibilities, solutions, or information. The goal of exploration is to gather a diverse set of data points or solutions that could potentially lead to finding better global optima. It prevents the search process from getting trapped in local optima by encouraging the consideration of less-visited or unexplored regions of the search space.</li>
<li>In algorithms, exploration can be implemented by introducing randomness, trying new or less-promising paths, or using strategies like simulated annealing or genetic algorithms that encourage diversity.</li>
</ul></li>
<li><strong>Exploitation</strong>:
<ul>
<li>Exploitation focuses on leveraging known information to refine and improve existing solutions. It involves concentrating the search effort around areas believed to contain high-quality solutions based on prior knowledge or experience. The goal is to optimize and fine-tune these solutions to achieve the best possible outcome in those regions.</li>
<li>In algorithms, exploitation can be seen in strategies like hill climbing, gradient ascent/descent, or greedy algorithms, where the search is focused on local improvement and making incremental gains.</li>
</ul></li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p><strong>See also</strong>: <a href="https://youtu.be/enNgiWuIHAo">Properties of Simulated Annealing - Georgia Tech - Machine Learning</a>. Udacity video (4m 10s). Posted on 2015-02-23.</p>
</div></aside></section>
<section id="example" class="slide level2">
<h2>Example</h2>
<div id="38d20433" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a></a><span class="co"># Ensuring reproducibility</span></span>
<span id="cb28-2"><a></a></span>
<span id="cb28-3"><a></a>np.random.seed(<span class="dv">42</span>)</span>
<span id="cb28-4"><a></a></span>
<span id="cb28-5"><a></a><span class="co"># Generate random coordinates for cities</span></span>
<span id="cb28-6"><a></a></span>
<span id="cb28-7"><a></a>num_cities <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb28-8"><a></a>coordinates <span class="op">=</span> np.random.rand(num_cities, <span class="dv">2</span>) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb28-9"><a></a></span>
<span id="cb28-10"><a></a><span class="co"># Calculate distance matrix</span></span>
<span id="cb28-11"><a></a></span>
<span id="cb28-12"><a></a>distance_matrix <span class="op">=</span> np.sqrt(((coordinates[:, np.newaxis] <span class="op">-</span> coordinates[np.newaxis, :]) <span class="op">**</span> <span class="dv">2</span>).<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">2</span>))</span>
<span id="cb28-13"><a></a></span>
<span id="cb28-14"><a></a><span class="co"># Run simulated annealing</span></span>
<span id="cb28-15"><a></a></span>
<span id="cb28-16"><a></a>initial_temp <span class="op">=</span> <span class="dv">15</span></span>
<span id="cb28-17"><a></a>cooling_rate <span class="op">=</span> <span class="fl">0.995</span></span>
<span id="cb28-18"><a></a>max_iterations <span class="op">=</span> <span class="dv">1000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="heldkarp-algorithm" class="slide level2 smaller">
<h2>Held–Karp Algorithm</h2>
<ul>
<li class="fragment"><strong>Introduced</strong>: 1962 by Held, Karp, and independently by Bellman.</li>
<li class="fragment"><strong>Problem</strong>: Solves the Traveling Salesman Problem (TSP) using <strong>dynamic programming</strong>.</li>
<li class="fragment"><strong>Time Complexity</strong>: <span class="math inline">\(\Theta(2^n n^2)\)</span>.</li>
<li class="fragment"><strong>Space Complexity</strong>: <span class="math inline">\(\Theta(2^n n)\)</span>.</li>
<li class="fragment"><strong>Efficiency</strong>: Better than brute-force <span class="math inline">\(\Theta(n!)\)</span>, yet still <strong>exponential</strong>.</li>
</ul>
<div id="6fd62ace" class="cell" data-execution_count="36">
<div class="cell-output cell-output-stdout">
<pre><code>Using Held–Karp to find the minimum cost of TSP tour: 386.43</code></pre>
</div>
</div>

<aside><div>
<p><span class="citation" data-cites="Held:1962aa">Held and Karp (<a href="#/references" role="doc-biblioref" onclick="">1962</a>)</span> and <span class="citation" data-cites="Bellman:1962aa">Bellman (<a href="#/references" role="doc-biblioref" onclick="">1962</a>)</span></p>
</div></aside></section>
<section id="execution" class="slide level2 scrollable">
<h2>Execution</h2>
<div id="36c58971" class="cell" data-execution_count="37">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-38-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23"><img data-src="slides_files/figure-revealjs/cell-38-output-1.png" class="quarto-figure quarto-figure-center" width="1142" height="566"></a></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>When I initially published these slides, the selected initial temperature of 1000 was excessively high relative to the objective function’s cost. By adjusting the initial temperature to 15, we achieve a more effective balance between exploration and exploitation.</p>
<p>Due to the snapshots being captured every 100 iterations, the increases in cost are not visible. This is illustrated on the “Temperature and Cost” slide.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="best-route" class="slide level2">
<h2>Best Route</h2>
<div id="4b458650" class="cell" data-execution_count="38">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-39-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24"><img data-src="slides_files/figure-revealjs/cell-39-output-1.png" class="quarto-figure quarto-figure-center" width="434" height="431"></a></p>
</figure>
</div>
</div>
</div>

<aside><div>
<p>We have found an <strong>optimal tour</strong>!</p>
</div></aside></section>
<section id="temperature-and-cost" class="slide level2">
<h2>Temperature and Cost</h2>
<div id="3ff149e4" class="cell" data-execution_count="39">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-40-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25"><img data-src="slides_files/figure-revealjs/cell-40-output-1.png" class="quarto-figure quarto-figure-center" width="1141" height="468"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="swapping-neighbors" class="slide level2">
<h2>Swapping Neighbors</h2>
<ul>
<li><strong>Description</strong>: Select two cities at random, swap their positions.</li>
<li><strong>Pros</strong>: Simple and effective for exploring nearby solutions.</li>
<li><strong>Cons</strong>: Change may be too small, potentially slowing down convergence.</li>
</ul>
<div id="73a8ceca" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a></a><span class="kw">def</span> get_neighbor_swap(route):</span>
<span id="cb30-2"><a></a>    a, b <span class="op">=</span> np.random.randint(<span class="dv">0</span>, <span class="bu">len</span>(route), size<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb30-3"><a></a>    new_route <span class="op">=</span> route.copy()</span>
<span id="cb30-4"><a></a>    new_route[a], new_route[b] <span class="op">=</span> new_route[b], new_route[a]</span>
<span id="cb30-5"><a></a>    <span class="cf">return</span> new_route</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="execution-1" class="slide level2 scrollable">
<h2>Execution</h2>
<div id="25523cb7" class="cell" data-execution_count="41">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-42-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26"><img data-src="slides_files/figure-revealjs/cell-42-output-1.png" class="quarto-figure quarto-figure-center" width="1142" height="566"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="best-route-1" class="slide level2">
<h2>Best Route</h2>
<div id="03ee5dc0" class="cell" data-execution_count="42">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-43-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27"><img data-src="slides_files/figure-revealjs/cell-43-output-1.png" class="quarto-figure quarto-figure-center" width="434" height="431"></a></p>
</figure>
</div>
</div>
</div>

<aside><div>
<p>In this specific instance and for the given problem, <strong>reverse segment</strong> (cost = 386.43) was more effective compared to <strong>swapping neighbors</strong> (cost = 430.03).</p>
</div></aside></section>
<section id="temperature-and-cost-1" class="slide level2">
<h2>Temperature and Cost</h2>
<div id="12ff2899" class="cell" data-execution_count="43">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-44-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img data-src="slides_files/figure-revealjs/cell-44-output-1.png" class="quarto-figure quarto-figure-center" width="1141" height="468"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="selecting-a-neighborhood-strategy" class="slide level2">
<h2>Selecting a Neighborhood Strategy</h2>
<ul>
<li><p><strong>Simple Moves (Swap, Insertion)</strong>: Effective for initial exploration; risk of local optima entrapment.</p></li>
<li><p><strong>Complex Moves</strong>: Enhance capability to escape local optima and accelerate convergence; entail higher computational expense.</p></li>
<li><p><strong>Hybrid Approaches</strong>: Integrate diverse strategies for neighborhood generation. Employ simple moves initially, transitioning to complex ones as convergence progresses.</p></li>
</ul>
</section>
<section id="initial-temperature" class="slide level2">
<h2>Initial Temperature</h2>
<p><strong>Influence</strong>: Since the probability of accepting a new state is given by <span class="math inline">\(e^{-\frac{\Delta E}{T}}\)</span>, the selection of the <strong>initial temperature</strong> is directly influenced by <span class="math inline">\(\Delta E\)</span> and consequently by the <strong>objective function value for a random state</strong>, <span class="math inline">\(f(s)\)</span>.</p>
</section>
<section id="initial-temperature-1" class="slide level2">
<h2>Initial Temperature</h2>
<ul>
<li><p><strong>Example Problems</strong>: Consider two scenarios: problem <span class="math inline">\(a\)</span> with <span class="math inline">\(f(a) = 1,000\)</span> and problem <span class="math inline">\(b\)</span> with <span class="math inline">\(f(b) = 100\)</span>.</p></li>
<li><p><strong>Energy Difference</strong>: Accepting a state that is 10% worse results in energy differences <span class="math inline">\(\Delta E = 0.1 \cdot f(a) = 100\)</span> for problem <span class="math inline">\(a\)</span> and <span class="math inline">\(\Delta E = 0.1 \cdot f(b) = 10\)</span> for problem <span class="math inline">\(b\)</span>.</p></li>
<li><p><strong>Acceptance Probability</strong>: To accept such state 60% of the time, set <span class="math inline">\(e^{-\frac{\Delta E}{T}} = 0.6\)</span>. Solving for <span class="math inline">\(T\)</span> yields initial temperatures of approximately <span class="math inline">\(T \approx 195.8\)</span> for problem <span class="math inline">\(a\)</span> and <span class="math inline">\(T \approx 19.58\)</span> for problem <span class="math inline">\(b\)</span>.</p></li>
</ul>
</section>
<section id="initial-temperature-2" class="slide level2">
<h2>Initial Temperature</h2>
<p>A <strong>popular approach</strong> is to set the initial temperature so that a <strong>significant portion of moves (often around 60-80%) are accepted</strong>.</p>
<p>This can be done by running a preliminary phase where the temperature is adjusted until the acceptance ratio stabilizes within this range.</p>

<aside><div>
<p><span class="citation" data-cites="Ben-Ameur:2004aa">Ben-Ameur (<a href="#/references" role="doc-biblioref" onclick="">2004</a>)</span> suggests a more rigorous mathematical methodology.</p>
</div></aside></section>
<section id="cooling-strategies" class="slide level2">
<h2>Cooling Strategies</h2>
<p>In <strong>simulated annealing</strong>, cooling down is essential for managing algorithm convergence. The cooling schedule dictates the rate at which the temperature decreases, affecting the algorithm’s capacity to <strong>escape local optima</strong> and <strong>converge towards a near-optimal solution</strong>.</p>

<aside><div>
<p><span class="citation" data-cites="Nourani:1998aa">Nourani and Andresen (<a href="#/references" role="doc-biblioref" onclick="">1998</a>)</span> and <span class="citation" data-cites="Alex:2017aa">Alex, Simon, and Samuel (<a href="#/references" role="doc-biblioref" onclick="">2017</a>)</span></p>
</div></aside></section>
<section id="linear-cooling" class="slide level2 smaller">
<h2>Linear Cooling</h2>
<ul>
<li><strong>Description</strong>: The temperature decreases linearly with each iteration.</li>
<li><strong>Formula</strong>: <span class="math inline">\(T = T_0 - \alpha \cdot k\)</span>
<ul>
<li><span class="math inline">\(T_0\)</span>: Initial temperature</li>
<li><span class="math inline">\(\alpha\)</span>: A constant decrement</li>
<li><span class="math inline">\(k\)</span>: Current iteration</li>
</ul></li>
<li><strong>Pros</strong>: Simple to implement and understand.</li>
<li><strong>Cons</strong>: Often leads to <strong>premature convergence</strong> because the temperature decreases too quickly.</li>
</ul>
<div id="846e172f" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a></a>temperature <span class="op">=</span> initial_temp <span class="op">-</span> alpha <span class="op">*</span> iteration</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="geometric-exponential-cooling" class="slide level2 smaller">
<h2>Geometric (Exponential) Cooling</h2>
<ul>
<li><strong>Description</strong>: The temperature decreases exponentially with each iteration.</li>
<li><strong>Formula</strong>: <span class="math inline">\(T = T_0 \cdot \alpha^k\)</span>
<ul>
<li><span class="math inline">\(\alpha\)</span>: Cooling rate, typically between 0.8 and 0.99</li>
<li><span class="math inline">\(k\)</span>: Current iteration</li>
</ul></li>
<li><strong>Pros</strong>: Widely used due to its simplicity and effectiveness.</li>
<li><strong>Cons</strong>: The choice of <span class="math inline">\(\alpha\)</span> is critical; if it’s too small, the temperature drops too fast, and if it’s too large, convergence can be slow.</li>
</ul>
<div id="f920b3d8" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a></a>temperature <span class="op">=</span> initial_temp <span class="op">*</span> (cooling_rate <span class="op">**</span> iteration)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="logarithmic-cooling" class="slide level2 smaller">
<h2>Logarithmic Cooling</h2>
<ul>
<li><strong>Description</strong>: The temperature decreases slowly following a logarithmic function.</li>
<li><strong>Formula</strong>: <span class="math inline">\(T = \frac{\alpha \cdot T_0}{\log(1+k)}\)</span>
<ul>
<li><span class="math inline">\(\alpha\)</span>: A scaling constant</li>
<li><span class="math inline">\(k\)</span>: Current iteration</li>
</ul></li>
<li><strong>Pros</strong>: Provides a slower cooling rate, which is useful for problems that require extensive exploration of the solution space.</li>
<li><strong>Cons</strong>: Convergence can be very slow, requiring many iterations.</li>
</ul>
<div id="618da92f" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a></a>temperature <span class="op">=</span> alpha <span class="op">*</span> initial_temp <span class="op">/</span> (np.log(<span class="dv">1</span> <span class="op">+</span> iteration))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="inverse-cooling" class="slide level2 smaller">
<h2>Inverse Cooling</h2>
<ul>
<li><strong>Description</strong>: The temperature decreases as an inverse function of the iteration number.</li>
<li><strong>Formula</strong>: <span class="math inline">\(T = \frac{T_0}{1+\alpha \cdot K}\)</span>
<ul>
<li><span class="math inline">\(\alpha\)</span>: A scaling constant</li>
<li><span class="math inline">\(k\)</span>: Current iteration</li>
</ul></li>
<li><strong>Pros</strong>: Allows for a more controlled cooling process, balancing exploration and exploitation.</li>
<li><strong>Cons</strong>: May require careful tuning of <span class="math inline">\(\alpha\)</span> to be effective.</li>
</ul>
<div id="9a9ec80e" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a></a>temperature <span class="op">=</span> initial_temp <span class="op">/</span> (<span class="dv">1</span> <span class="op">+</span> alpha <span class="op">*</span> iteration)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="adaptive-cooling" class="slide level2 smaller">
<h2>Adaptive Cooling</h2>
<ul>
<li><strong>Description</strong>: The cooling schedule is adjusted dynamically based on the performance of the algorithm.</li>
<li><strong>Strategy</strong>: If the algorithm is not making significant progress, the cooling rate may be slowed down. Conversely, if progress is steady, the cooling rate can be increased.</li>
<li><strong>Pros</strong>: More flexible and can adapt to the characteristics of the problem.</li>
<li><strong>Cons</strong>: More complex to implement and requires careful design to avoid instability.</li>
</ul>
<div id="9029e947" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a></a><span class="cf">if</span> no_significant_change_in_cost:</span>
<span id="cb35-2"><a></a>    temperature <span class="op">*=</span> <span class="fl">0.99</span>  <span class="co"># Slow down cooling</span></span>
<span id="cb35-3"><a></a><span class="cf">else</span>:</span>
<span id="cb35-4"><a></a>    temperature <span class="op">*=</span> <span class="fl">0.95</span>  <span class="co"># Speed up cooling</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="cooling-schedule---summary" class="slide level2">
<h2>Cooling Schedule - Summary</h2>
<div id="1e3f90aa" class="cell" data-execution_count="49">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="slides_files/figure-revealjs/cell-50-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-29"><img data-src="slides_files/figure-revealjs/cell-50-output-1.png" class="quarto-figure quarto-figure-center" width="668" height="524"></a></p>
</figure>
</div>
</div>
</div>

<aside><div>
<p><strong>See also</strong>: <a href="https://nathanrooy.github.io/posts/2020-05-14/simulated-annealing-with-python/">Effective Simulated Annealing with Python</a> by Nathan A. Rooy.</p>
</div></aside></section>
<section id="choosing-the-right-cooling-schedule" class="slide level2">
<h2>Choosing the Right Cooling Schedule</h2>
<ul>
<li><p><strong>Problem-Specific</strong>: The choice of cooling schedule often depends on the characteristics of the problem being solved. Some problems benefit from a slower cooling rate, while others may need faster convergence.</p></li>
<li><p><strong>Experimentation</strong>: It’s common to experiment with different strategies and parameters to find the best balance between exploration (searching broadly) and exploitation (refining the current best solutions).</p></li>
</ul>
</section>
<section id="conclusion" class="slide level2">
<h2>Conclusion</h2>
<p>After applying <strong>simulated annealing</strong>, a <strong>local search</strong> method such as <strong>hill climbing</strong> can be used to <strong>refine the solution</strong>.</p>
<div class="fragment">
<p><strong>Simulated annealing</strong> is effective for exploring the solution space and <strong>avoiding local minima</strong>, while <strong>local search</strong> focuses on the <strong>exploration of neighboring solutions</strong>.</p>
</div>
</section>
<section id="simulated-annealing-visualization" class="slide level2">
<h2>Simulated Annealing Visualization</h2>
<iframe data-external="1" src="https://www.youtube.com/embed/NPE3zncXA5s?si=Z9rk2Kt_5pN8ChlA" width="800" height="450" title="Simulated Annealing Visualization: Solving Travelling Salesman Problem" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<aside><div>
<p><strong>Attribution:</strong> <a href="https://www.youtube.com/@computationalscientist6368">ComputationalScientist</a>, Posted on 2018-01-06.</p>
</div></aside></section></section>
<section>
<section id="prologue" class="title-slide slide level1 center">
<h1>Prologue</h1>

</section>
<section id="summary" class="slide level2 scrollable">
<h2>Summary</h2>
<ul>
<li>Local search algorithms focus on finding goal states by moving between neighboring states without tracking paths.</li>
<li>The hill-climbing algorithm seeks the highest-valued neighbor but can get stuck in local maxima or plateaus.</li>
<li>Effective state representation, such as using permutations in the 8-Queens problem, avoids illegal placements and improves performance.</li>
<li>Simulated annealing allows occasional uphill moves to escape local optima, controlled by a decreasing temperature parameter.</li>
<li>The acceptance probability in simulated annealing decreases as temperature lowers and energy difference increases.</li>
<li>Simulated annealing effectively solves complex problems like the Travelling Salesman Problem by probabilistically exploring the solution space.</li>
</ul>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="further-readings" class="slide level2">
<h2>Further Readings</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://media.springernature.com/full/springer-static/cover-hires/book/978-3-319-91086-4?as=webp.png" class="lightbox" data-gallery="quarto-lightbox-gallery-30"><img data-src="https://media.springernature.com/full/springer-static/cover-hires/book/978-3-319-91086-4?as=webp.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
</div><div class="column" style="width:60%;">
<p>“The overall SA [simulated annealing] methodology is then deployed in detail on a real-life application: a <strong>large-scale aircraft trajectory planning problem involving nearly 30,000 flights</strong> at the European continental scale.”</p>
<p><span class="citation" data-cites="Gendreau:2019aa">(<a href="#/references" role="doc-biblioref" onclick="">Gendreau and Potvin 2019, chap. 1</a>)</span></p>
</div></div>

<aside class="notes">
<p>Did you know that you can freely access the entire collection of books from Springer? By using a device connected to a uOttawa IP address and visiting <a href="https://link.springer.com">Springer Link</a>, you have the ability to download books in either PDF or EPUB format.</p>
<p>The book is co-edited by <a href="https://recherche.umontreal.ca/english/our-researchers/professors-directory/researcher/is/in14464/">Jean-Yves Potvin</a> and <a href="https://www.polymtl.ca/expertises/en/gendreau-michel">Michel Gendreau</a>. <a href="https://recherche.umontreal.ca/english/our-researchers/professors-directory/researcher/is/in14464/">Jean-Yves Potvin</a> serves as a professor at the Université de Montréal, while <a href="https://www.polymtl.ca/expertises/en/gendreau-michel">Michel Gendreau</a> holds a professorship at École Polytechnique de Montréal.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p><span class="citation" data-cites="Gendreau:2019aa">Gendreau and Potvin (<a href="#/references" role="doc-biblioref" onclick="">2019</a>)</span>, <a href="https://link.springer.com/book/10.1007/978-3-319-91086-4">access via Springer Link</a>.</p>
</div></aside></section>
<section id="next-lecture" class="slide level2">
<h2>Next lecture</h2>
<ul>
<li>We will discuss population-based algorithms.</li>
</ul>
</section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Alex:2017aa" class="csl-entry" role="listitem">
Alex, Kwaku Peprah, Kojo Appiah Simon, and Kwame Amponsah Samuel. 2017. <span>“<span class="nocase">An Optimal Cooling Schedule Using a Simulated Annealing Based Approach</span>.”</span> <em>Applied Mathematics</em> 08 (08): 1195–1210. <a href="https://doi.org/10.4236/am.2017.88090">https://doi.org/10.4236/am.2017.88090</a>.
</div>
<div id="ref-Bellman:1962aa" class="csl-entry" role="listitem">
Bellman, Richard. 1962. <span>“<span class="nocase">Dynamic Programming Treatment of the Travelling Salesman Problem</span>.”</span> <em>Journal of the ACM (JACM)</em> 9 (1): 61–63. <a href="https://doi.org/10.1145/321105.321111">https://doi.org/10.1145/321105.321111</a>.
</div>
<div id="ref-Ben-Ameur:2004aa" class="csl-entry" role="listitem">
Ben-Ameur, Walid. 2004. <span>“<span class="nocase">Computing the Initial Temperature of Simulated Annealing</span>.”</span> <em>Computational Optimization and Applications</em> 29 (3): 369–85. <a href="https://doi.org/10.1023/b:coap.0000044187.23143.bd">https://doi.org/10.1023/b:coap.0000044187.23143.bd</a>.
</div>
<div id="ref-Gendreau:2019aa" class="csl-entry" role="listitem">
Gendreau, M., and J. Y. Potvin. 2019. <em>Handbook of Metaheuristics</em>. International Series in Operations Research &amp; Management Science. Springer International Publishing. <a href="https://books.google.com.ag/books?id=RbfFwQEACAAJ">https://books.google.com.ag/books?id=RbfFwQEACAAJ</a>.
</div>
<div id="ref-Held:1962aa" class="csl-entry" role="listitem">
Held, Michael, and Richard M. Karp. 1962. <span>“A Dynamic Programming Approach to Sequencing Problems.”</span> <em>Journal of the Society for Industrial and Applied Mathematics</em> 10 (1): 196–210. <a href="https://doi.org/10.1137/0110015">https://doi.org/10.1137/0110015</a>.
</div>
<div id="ref-Nourani:1998aa" class="csl-entry" role="listitem">
Nourani, Yaghout, and Bjarne Andresen. 1998. <span>“A Comparison of Simulated Annealing Cooling Strategies.”</span> <em>Journal of Physics A: Mathematical and General</em> 31 (41): 8373.
</div>
<div id="ref-Russell:2020aa" class="csl-entry" role="listitem">
Russell, Stuart, and Peter Norvig. 2020. <em>Artificial Intelligence: <span>A</span> Modern Approach</em>. 4th ed. Pearson. <a href="http://aima.cs.berkeley.edu/">http://aima.cs.berkeley.edu/</a>.
</div>
</div>
</section>
<section class="slide level2">

<p>Marcel <strong>Turcotte</strong></p>
<p><a href="mailto:Marcel.Turcotte@uOttawa.ca">Marcel.Turcotte@uOttawa.ca</a></p>
<p>School of Electrical Engineering and <strong>Computer Science</strong> (EE<strong>CS</strong>)</p>
<p>University of Ottawa</p>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../../assets/images/uottawa_hor_black.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://turcotte.xyz/teaching/csi-4106">turcotte.xyz/teaching/csi-4106</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script type="ojs-module-contents">
    eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImltcG9ydCB7IElucHV0cywgUGxvdCB9IGZyb20gXCJAb2JzZXJ2YWJsZWhxL3Bsb3RcIlxuXG52aWV3b2YgZGVsdGFFID0gSW5wdXRzLnJhbmdlKFswLjAxLCAxMDBdLCB7c3RlcDogMC4wMSwgdmFsdWU6IDAuMSwgbGFiZWw6IFwizpRFXCIsIHdpZHRoOiAzMDB9KVxuXG5UX3ZhbHVlcyA9IEFycmF5LmZyb20oe2xlbmd0aDogMTAwMH0sIChfLCBpKSA9PiAoaSArIDEpICogMC4xKVxuXG5mdW5jdGlvbiBjb21wdXRlRGF0YShkZWx0YUUpIHtcbiAgcmV0dXJuIFRfdmFsdWVzLm1hcChUID0+ICh7XG4gICAgVDogVCxcbiAgICB2YWx1ZTogTWF0aC5leHAoLWRlbHRhRSAvIFQpXG4gIH0pKVxufVxuXG5kYXRhID0gY29tcHV0ZURhdGEoZGVsdGFFKVxuXG5QbG90LnBsb3Qoe1xuICBtYXJrczogW1xuICAgIFBsb3QubGluZShkYXRhLCB7XG4gICAgICB4OiBcIlRcIiwgXG4gICAgICB5OiBcInZhbHVlXCIsIFxuICAgICAgc3Ryb2tlOiBcInN0ZWVsYmx1ZVwiLCBcbiAgICAgIHN0cm9rZVdpZHRoOiAyXG4gICAgfSksXG4gICAgUGxvdC5ydWxlWChbMF0sIHtzdHJva2U6IFwiYmxhY2tcIn0pLCAvLyBYLWF4aXMgbGluZVxuICAgIFBsb3QucnVsZVkoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCJ9KSAgLy8gWS1heGlzIGxpbmVcbiAgXVxufSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnZGVsdGFFJykifV19
    </script>
    <script type="module">
    if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
    window._ojs.paths.runtimeToDoc = "../../lectures/17";
    window._ojs.paths.runtimeToRoot = "../..";
    window._ojs.paths.docToRoot = "../..";
    window._ojs.selfContained = false;
    window._ojs.runtime.interpretFromScriptTags();
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/turcotte\.xyz\/teaching\/csi-4106");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    <script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
    (function() {
      let previousOnload = window.onload;
      window.onload = () => {
        if (previousOnload) {
          previousOnload();
        }
        lightboxQuarto.on('slide_before_load', (data) => {
          const { slideIndex, slideNode, slideConfig, player, trigger } = data;
          const href = trigger.getAttribute('href');
          if (href !== null) {
            const imgEl = window.document.querySelector(`a[href="${href}"] img`);
            if (imgEl !== null) {
              const srcAttr = imgEl.getAttribute("src");
              if (srcAttr && srcAttr.startsWith("data:")) {
                slideConfig.href = srcAttr;
              }
            }
          } 
        });
      
        lightboxQuarto.on('slide_after_load', (data) => {
          const { slideIndex, slideNode, slideConfig, player, trigger } = data;
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(slideNode);
          }
        });
      
      };
      
    })();
              </script>
    

<script src="https://platform.twitter.com/widgets.js"></script>
</body></html>
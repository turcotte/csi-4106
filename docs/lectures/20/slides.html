<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <meta name="author" content="Marcel Turcotte">
  <title>CSI 4106 - Fall 2025 – Adversarial Search</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-f563837468303362081e247dddd440d0.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<meta property="og:title" content="Adversarial Search – CSI 4106 - Fall 2025">
<meta property="og:description" content="CSI 4106 Introduction to Artificial Intelligence">
<meta property="og:site_name" content="CSI 4106 - Fall 2025">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Adversarial Search</h1>
  <p class="subtitle">CSI 4106 Introduction to Artificial Intelligence</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Marcel Turcotte 
</div>
</div>
</div>

  <p class="date">Version: Jul 11, 2025 15:49</p>
</section>
<section>
<section id="preamble" class="title-slide slide level1 center">
<h1>Preamble</h1>

</section>
<section id="quote-of-the-day" class="slide level2">
<h2>Quote of the Day</h2>
<iframe data-external="1" src="https://www.youtube.com/embed/RV_SdCfZ-0s" width="800" height="450" title="AI Scambaiters: O2 creates AI Granny to waste scammers’ time" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</section>
<section id="adversarial-search" class="slide level2">
<h2>Adversarial Search</h2>
<p>This lecture examines <strong>competitive environments</strong> where multiple agents have conflicting objectives, resulting in <strong>adversarial search problems</strong>.</p>
</section>
<section id="learning-objectives" class="slide level2">
<h2>Learning objectives</h2>
<ul>
<li><strong>Explain</strong> zero-sum game concepts</li>
<li><strong>Formulate</strong> never-lose strategies in Tic-Tac-Toe regardless of opponent moves</li>
<li><strong>Utilize</strong> the <strong>minimax</strong> algorithm to determine optimal moves in adversarial settings</li>
<li><strong>Articulate</strong> how <strong>alpha-beta pruning</strong> reduces the number of nodes evaluated without affecting outcomes</li>
</ul>
</section>
<section id="search" class="slide level2">
<h2>Search</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/search-00.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img data-src="../../assets/images/search-00.png" class="quarto-figure quarto-figure-center"></a></p>
</figure>
</div>
</section></section>
<section>
<section id="introduction" class="title-slide slide level1 center">
<h1>Introduction</h1>

</section>
<section id="types-of-games" class="slide level2">
<h2>Types of Games</h2>
<ul>
<li><strong>Deterministic</strong> or <strong>stochastic</strong></li>
<li><strong>One</strong>, <strong>two</strong>, or <strong>more</strong> players</li>
<li><strong>Zero-sum</strong> or not</li>
<li><strong>Perfect information</strong> or not</li>
</ul>
</section>
<section id="definition" class="slide level2">
<h2>Definition</h2>
<p><strong>Zero-sum games</strong> are competitive scenarios where one player’s <strong>gain</strong> is exactly balanced by another player’s <strong>loss</strong>, <strong>resulting in a net change of zero</strong> in total wealth or benefit.</p>

<aside><div>
<p><strong>Tic-tac-toe</strong> is a zero-sum game.</p>
</div></aside></section>
<section id="deterministic-games" class="slide level2">
<h2>Deterministic Games</h2>
<ul>
<li><strong>States</strong>: <span class="math inline">\(S\)</span> (<span class="math inline">\(S_0\)</span> to <span class="math inline">\(S_k\)</span>)</li>
<li><strong>Players</strong>: <span class="math inline">\(P = {1, N}\)</span></li>
<li><strong>Actions</strong>: <span class="math inline">\(A\)</span> (depends on <span class="math inline">\(P\)</span> and <span class="math inline">\(S\)</span>)</li>
<li><strong>Transition function</strong>: <span class="math inline">\(S \times A \rightarrow S\)</span></li>
<li><strong>A final state</strong>: <span class="math inline">\(S_\mathrm{final}\)</span></li>
<li><strong>Reward or utility</strong>: <span class="math inline">\(S_\mathrm{final}, p\)</span></li>
</ul>
<p>Develop a policy <span class="math inline">\(S_0 \rightarrow S_\mathrm{final}\)</span>.</p>
</section>
<section id="what-do-think" class="slide level2">
<h2>What do think?</h2>
<ul>
<li class="fragment">Consider playing <strong>tic-tac-toe</strong>.</li>
<li class="fragment">Can you ensure <strong>a never-lose strategy</strong>, irrespective of your opponent’s moves?</li>
<li class="fragment">Extend this analysis to games like <strong>chess</strong> or <strong>Go</strong>.</li>
</ul>
<aside class="notes">
<p>Does it matter if you play first or second?</p>
<p>Anyone who has played tic-tac-toe understands that the first player can adopt a strategy that ensures they never lose.</p>
<p>In itself this statement is rather surprising. Why?</p>
<p><strong>How many board configurations are there?</strong></p>
<ul>
<li>Each square can be occupied by X or O or be empty. This leads to <span class="math inline">\(3^9= 19,683\)</span> board configurations.</li>
<li>Are all these configurations possible in a valid game?</li>
</ul>
<p><strong>Game progression.</strong></p>
<ul>
<li><p>Not all of these configurations are valid game states because they may contain impossible numbers of Xs and Os or may not follow the rules of the game.</p></li>
<li><p>A tic-tac-toe game can end in a win for either player or a draw. The longest game without a winner involves 9 moves (a full board).</p></li>
<li><p>Valid games account for the rules that players alternate turns, starting with X.</p></li>
<li><p>How many valid sequences of moves are there?</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="tic-tac-toe" class="slide level2">
<h2>Tic-Tac-Toe</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div id="417b8e8a" class="cell" data-execution_count="2">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-3-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img data-src="slides_files/figure-revealjs/cell-3-output-1.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:60%;">
<p>Let’s represent the state of a <strong>tic-tac-toe game</strong> with a <strong>numpy array</strong>:</p>
<div id="95426c46" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a></a>current_state <span class="op">=</span> np.full((<span class="dv">3</span>, <span class="dv">3</span>), <span class="st">' '</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></div>
</section>
<section id="get_valid_moves" class="slide level2">
<h2><code>get_valid_moves</code></h2>
<div id="99c92d94" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a></a><span class="kw">def</span> get_valid_moves(state):</span>
<span id="cb2-2"><a></a></span>
<span id="cb2-3"><a></a>    size <span class="op">=</span> state.shape[<span class="dv">0</span>]</span>
<span id="cb2-4"><a></a></span>
<span id="cb2-5"><a></a>    <span class="co"># Returns a list of available positions</span></span>
<span id="cb2-6"><a></a>    moves <span class="op">=</span> []</span>
<span id="cb2-7"><a></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(size):</span>
<span id="cb2-8"><a></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(size):</span>
<span id="cb2-9"><a></a>            <span class="cf">if</span> state[i][j] <span class="op">==</span> <span class="st">' '</span>:</span>
<span id="cb2-10"><a></a>                moves.append((i, j))</span>
<span id="cb2-11"><a></a></span>
<span id="cb2-12"><a></a>    <span class="cf">return</span> moves</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="make_move" class="slide level2">
<h2><code>make_move</code></h2>
<div id="e43aa078" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a></a><span class="kw">def</span> make_move(state, move, player):</span>
<span id="cb3-2"><a></a></span>
<span id="cb3-3"><a></a>    <span class="co"># Returns a new state after making the move</span></span>
<span id="cb3-4"><a></a>    new_state <span class="op">=</span> state.copy()</span>
<span id="cb3-5"><a></a>    new_state[move] <span class="op">=</span> player</span>
<span id="cb3-6"><a></a></span>
<span id="cb3-7"><a></a>    <span class="cf">return</span> new_state</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="is_terminal" class="slide level2">
<h2><code>is_terminal</code></h2>
<div id="b8a25387" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a></a><span class="kw">def</span> is_terminal(state):</span>
<span id="cb4-2"><a></a></span>
<span id="cb4-3"><a></a>    <span class="co"># Check rows, columns, and diagonals for a win</span></span>
<span id="cb4-4"><a></a>    lines <span class="op">=</span> []</span>
<span id="cb4-5"><a></a>    lines.extend(state)  <span class="co"># Rows</span></span>
<span id="cb4-6"><a></a>    lines.extend(state.T)  <span class="co"># Columns</span></span>
<span id="cb4-7"><a></a>    lines.append(np.diagonal(state))  <span class="co"># Main diagonal</span></span>
<span id="cb4-8"><a></a>    lines.append(np.diagonal(np.fliplr(state)))  <span class="co"># Anti-diagonal</span></span>
<span id="cb4-9"><a></a></span>
<span id="cb4-10"><a></a>    <span class="cf">for</span> line <span class="kw">in</span> lines:</span>
<span id="cb4-11"><a></a>        <span class="cf">if</span> np.<span class="bu">all</span>(line <span class="op">==</span> <span class="st">'X'</span>) <span class="kw">or</span> np.<span class="bu">all</span>(line <span class="op">==</span> <span class="st">'O'</span>):</span>
<span id="cb4-12"><a></a>            <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb4-13"><a></a></span>
<span id="cb4-14"><a></a>    <span class="co"># Check for a draw (no empty spaces)</span></span>
<span id="cb4-15"><a></a>    <span class="cf">if</span> <span class="st">' '</span> <span class="kw">not</span> <span class="kw">in</span> state:</span>
<span id="cb4-16"><a></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb4-17"><a></a></span>
<span id="cb4-18"><a></a>    <span class="cf">return</span> <span class="va">False</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="get_opponent" class="slide level2">
<h2><code>get_opponent</code></h2>
<div id="cf27d4b0" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a></a><span class="kw">def</span> get_opponent(player):</span>
<span id="cb5-2"><a></a>    <span class="cf">return</span> <span class="st">'O'</span> <span class="cf">if</span> player <span class="op">==</span> <span class="st">'X'</span> <span class="cf">else</span> <span class="st">'X'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="count_valid_sequences" class="slide level2">
<h2><code>count_valid_sequences</code></h2>
<div id="f5c5a3a7" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a></a><span class="kw">def</span> count_valid_sequences(state, player):</span>
<span id="cb6-2"><a></a></span>
<span id="cb6-3"><a></a>    <span class="cf">if</span> is_terminal(state):</span>
<span id="cb6-4"><a></a>      <span class="cf">return</span> <span class="dv">1</span></span>
<span id="cb6-5"><a></a></span>
<span id="cb6-6"><a></a>    valid_moves <span class="op">=</span> get_valid_moves(state)</span>
<span id="cb6-7"><a></a></span>
<span id="cb6-8"><a></a>    total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb6-9"><a></a>    <span class="cf">for</span> move <span class="kw">in</span> valid_moves:</span>
<span id="cb6-10"><a></a>        new_state <span class="op">=</span> make_move(state, move, player)</span>
<span id="cb6-11"><a></a>        total <span class="op">+=</span> count_valid_sequences(new_state, get_opponent(player))</span>
<span id="cb6-12"><a></a></span>
<span id="cb6-13"><a></a>    <span class="cf">return</span> total</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="08b5fa81" class="cell" data-execution_count="9">
<div class="cell-output cell-output-stdout">
<pre><code>The total number of valid sequences is: 255,168</code></pre>
</div>
</div>

<aside><div>
<p>Considering the number of valid sequences, it is unsurprising that the first player can adopt a strategy to avoid losing?</p>
</div></aside></section>
<section id="symmetry-digression" class="slide level2">
<h2>Symmetry (digression)</h2>
<div class="fragment">
<p>Tic-tac-toe has <strong>8 symmetrical transformations</strong> (4 rotations and 4 reflections).</p>
<p>By considering these, many game sequences that are different in raw move order become equivalent.</p>
<p>The number of <strong>unique sequences of moves</strong> is <strong>26,830</strong>, whereas the number of unique board positions is <strong>765</strong>.</p>

</div>
<aside><div>
<p><strong>Exercise</strong>: write a Python program the confirm the above.</p>
</div></aside></section>
<section id="search-tree" class="slide level2">
<h2>Search Tree</h2>
<p>The <strong>search tree size</strong> for the tic-tac-toe game is <strong>relatively small</strong>, making it suitable for use as a running example in later discussions.</p>
<p>How does this compare to the search trees for chess and Go?</p>
</section>
<section id="search-tree-1" class="slide level2">
<h2>Search Tree</h2>
<ul>
<li><p><strong>Chess</strong>: <span class="math inline">\(35^{80} \sim 10^{123}\)</span></p></li>
<li><p><strong>Go</strong>: <span class="math inline">\(361! \sim 10^{768}\)</span></p></li>
</ul>

<aside class="notes">
<p><strong>Chess</strong>:</p>
<p>Chess has a relatively small board (<span class="math inline">\(8 \times 8\)</span>) but a variety of pieces with different movement capabilities.</p>
<p>On average, each position has about 35 legal moves.</p>
<p>Considering an average game length of 80 ply (a ply is a half-move, so 40 moves per player), the total games are estimated using the formula: <span class="math inline">\(35^{80} \sim 10^{123}\)</span>, adjusted down to account for illegal and redundant positions.</p>
<p><strong>Go</strong>:</p>
<p>Go is played on a <span class="math inline">\(19 \times 19\)</span> board, providing 361 points where stones can be placed. Accordingly, the total number of games is <span class="math inline">\(361! \sim 10^{768}\)</span>.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p>The estimated <strong>number of atoms in the observable universe</strong> is around <span class="math inline">\(10^{78}\)</span> to <span class="math inline">\(10^{82}\)</span>.</p>
</div></aside></section>
<section id="definition-1" class="slide level2">
<h2>Definition</h2>
<p><strong>Optimal play</strong> involves executing the <strong>best possible move at each step</strong> to maximize winning chances or outcomes.</p>
<p>In <strong>perfect information games</strong> like tic-tac-toe or chess, it requires anticipating the opponent’s moves and choosing actions that enhance one’s position or minimize losses.</p>
<aside class="notes">
<p>When <strong>both players employ optimal strategies</strong>, the outcome—win, loss, or draw—is dictated by the game’s inherent mechanics and initial conditions.</p>
<p>Perfect information refers to a feature of certain games or decision-making scenarios where all players have complete and accurate knowledge of the entire game state at all times. This includes full visibility of all actions taken previously and no hidden elements or randomness affecting the game’s progression. In games with perfect information, such as chess or tic-tac-toe, players can make fully informed decisions based on the entire history and current status of the game, allowing for strategies that can be planned several moves ahead.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="two-move-game" class="slide level2">
<h2>Two-Move Game</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/two_move_game-00.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img data-src="../../assets/images/two_move_game-00.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
<aside class="notes">
<p>Two-Move is a hypothetical game involving two players, designed to facilitate discussions on the minimax algorithm.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="game-setup" class="slide level2">
<h2>Game Setup</h2>
<ul>
<li>The <strong>game starts</strong> with a single decision point for Player 1, who has two possible moves: <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>.</li>
<li>Each of these moves leads to a <strong>decision point for Player 2</strong>, who also has two possible responses: <span class="math inline">\(C\)</span> and <span class="math inline">\(D\)</span>.</li>
<li>The <strong>game ends</strong> after Player 2’s move, resulting in a terminal state with predefined scores.</li>
</ul>
</section>
<section id="search-tree-2" class="slide level2">
<h2>Search Tree</h2>
<ul>
<li><strong>Root Node</strong>: Represents the initial state before Player 1’s move.</li>
<li><strong>Ply 1</strong>: Player 1 chooses between moves <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>.</li>
<li><strong>Ply 2</strong>: For each of Player 1’s moves, Player 2 chooses between moves <span class="math inline">\(C\)</span> and <span class="math inline">\(D\)</span>.</li>
<li><strong>Leaf Nodes</strong>: Each branch’s endpoint is a terminal state with an associated score.</li>
</ul>
</section>
<section id="scores" class="slide level2">
<h2>Scores</h2>
<ul>
<li><span class="math inline">\((A, C)\)</span> results in a score of 3.</li>
<li><span class="math inline">\((A, D)\)</span> results in a score of 5.</li>
<li><span class="math inline">\((B, C)\)</span> results in a score of 2.</li>
<li><span class="math inline">\((B, D)\)</span> results in a score of 1.</li>
</ul>

<aside><div>
<p><strong>Player 1</strong> wants to maximize its score.</p>
</div></aside></section>
<section id="strategy" class="slide level2">
<h2>Strategy</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/two_move_game-00.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img data-src="../../assets/images/two_move_game-00.png" class="quarto-figure quarto-figure-center"></a></p>
</figure>
</div>
</div><div class="column" style="width:60%;">
<p>What should be <strong>player 2’s strategy</strong> and <strong>why</strong>?</p>
</div></div>
</section>
<section id="strategy-1" class="slide level2">
<h2>Strategy</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/two_move_game-01.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img data-src="../../assets/images/two_move_game-01.png" class="quarto-figure quarto-figure-center"></a></p>
</figure>
</div>
</div><div class="column" style="width:60%;">
<ul>
<li><p><strong>For move <span class="math inline">\(A\)</span></strong>:</p>
<ul>
<li>Player 2 can choose <span class="math inline">\(C\)</span> (score = 3) or <span class="math inline">\(D\)</span> (score = 5); they choose <span class="math inline">\(C\)</span> (minimizing to 3).</li>
</ul></li>
<li><p><strong>For move <span class="math inline">\(B\)</span></strong>:</p>
<ul>
<li>Player 2 can choose <span class="math inline">\(C\)</span> (score = 2) or <span class="math inline">\(D\)</span> (score = 1); they choose <span class="math inline">\(D\)</span> (minimizing to 1).</li>
</ul></li>
</ul>
</div></div>
</section>
<section id="strategy-2" class="slide level2">
<h2>Strategy</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/two_move_game-01.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img data-src="../../assets/images/two_move_game-01.png" class="quarto-figure quarto-figure-center"></a></p>
</figure>
</div>
</div><div class="column" style="width:60%;">
<p>What should now be the strategy for <strong>Player 1</strong>?</p>
</div></div>
</section>
<section id="strategy-3" class="slide level2">
<h2>Strategy</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/two_move_game-02.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img data-src="../../assets/images/two_move_game-02.png" class="quarto-figure quarto-figure-center"></a></p>
</figure>
</div>
</div><div class="column" style="width:60%;">
<p>Player 1, being the <strong>maximizer</strong>, will choose move <span class="math inline">\(A\)</span>, as it leads to the higher score of 3 after Player 2 minimizes.</p>
</div></div>
</section>
<section id="minimax" class="slide level2">
<h2>Minimax</h2>
<ul>
<li><p><strong>Player 1</strong> is the maximizing player, seeking the highest score.</p></li>
<li><p><strong>Player 2</strong> is the minimizing player, seeking the lowest score.</p></li>
</ul>
<p><strong>Evaluation</strong>:</p>
<ul>
<li><p>Player 2 evaluates the potential outcomes for each of their moves and chooses the <strong>least favorable outcome</strong> for Player 1.</p></li>
<li><p>Player 1 then evaluates these outcomes, choosing the move that <strong>maximizes their minimum guaranteed score</strong>.</p></li>
</ul>
</section>
<section id="minimax-search" class="slide level2">
<h2>Minimax Search</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/tic_tac_toe-01.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img data-src="../../assets/images/tic_tac_toe-01.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
</section>
<section id="minimax-search-1" class="slide level2 smaller">
<h2>Minimax Search</h2>
<p>The <strong>minimax algorithm</strong> operates by exploring <strong>all possible moves in a game tree</strong>, evaluating the outcomes to minimize the possible loss for a worst-case scenario. At each node:</p>
<ul>
<li><strong>Maximizing Player’s Turn:</strong> Choose the move with the highest possible value.</li>
<li><strong>Minimizing Player’s Turn:</strong> Choose the move with the lowest possible value.</li>
</ul>
<p>By backtracking from the terminal nodes to the root, the algorithm selects the move that <strong>maximizes the player’s minimum gain</strong>, effectively anticipating and <strong>countering the opponent’s best strategies</strong>.</p>
</section>
<section id="minimax-search-2" class="slide level2">
<h2>Minimax Search</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/minimax_rn-5_3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img data-src="../../assets/images/minimax_rn-5_3.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p><strong>Attribution</strong>: <span class="citation" data-cites="Russell:2020aa">(<a href="#/references" role="doc-biblioref" onclick="">Russell and Norvig 2020, fig. 5.3</a>)</span></p>
</div></aside></section>
<section id="walkthrough-first-4-minutes" class="slide level2">
<h2>Walkthrough (first 4 minutes)</h2>
<iframe data-external="1" src="https://www.youtube.com/embed/l-hh51ncgDI" width="800" height="450" title="Algorithms Explained – minimax and alpha-beta pruning" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<aside class="notes">
<p>Watch the first 5m 20s of the video.</p>
<p>The video introduces a variant of the <strong>minimax</strong> algorithm that includes a <strong>maximum depth parameter</strong>, enabling the algorithm to terminate at a user-specified depth. This approach is essential for games with extensive search spaces, such as chess and Go. However, it necessitates a reliable method for evaluating the current state, referred to as static evaluation in the video.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p><strong>Attribution</strong>: <a href="https://sebastian.itch.io">Sebastian Lague</a></p>
</div></aside></section>
<section id="base" class="slide level2">
<h2>Base</h2>
<div id="4961055b" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a></a><span class="co"># Base class for the game</span></span>
<span id="cb8-2"><a></a><span class="kw">class</span> Game:</span>
<span id="cb8-3"><a></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb8-4"><a></a>        <span class="cf">pass</span></span>
<span id="cb8-5"><a></a></span>
<span id="cb8-6"><a></a>    <span class="kw">def</span> get_valid_moves(<span class="va">self</span>, state):</span>
<span id="cb8-7"><a></a>        <span class="cf">pass</span></span>
<span id="cb8-8"><a></a></span>
<span id="cb8-9"><a></a>    <span class="kw">def</span> make_move(<span class="va">self</span>, state, move, player):</span>
<span id="cb8-10"><a></a>        <span class="cf">pass</span></span>
<span id="cb8-11"><a></a></span>
<span id="cb8-12"><a></a>    <span class="kw">def</span> is_terminal(<span class="va">self</span>, state):</span>
<span id="cb8-13"><a></a>        <span class="cf">pass</span></span>
<span id="cb8-14"><a></a></span>
<span id="cb8-15"><a></a>    <span class="kw">def</span> evaluate(<span class="va">self</span>, state):</span>
<span id="cb8-16"><a></a>        <span class="cf">pass</span></span>
<span id="cb8-17"><a></a></span>
<span id="cb8-18"><a></a>    <span class="kw">def</span> display(<span class="va">self</span>, state):</span>
<span id="cb8-19"><a></a>        <span class="cf">pass</span></span>
<span id="cb8-20"><a></a></span>
<span id="cb8-21"><a></a>    <span class="kw">def</span> get_opponent(<span class="va">self</span>, player):</span>
<span id="cb8-22"><a></a>        <span class="cf">pass</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tic-tac-toe-1" class="slide level2">
<h2>Tic-Tac-Toe</h2>
<div id="e3bd4c2c" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a></a><span class="co"># Tic-Tac-Toe game class</span></span>
<span id="cb9-2"><a></a><span class="kw">class</span> TicTacToe(Game):</span>
<span id="cb9-3"><a></a></span>
<span id="cb9-4"><a></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb9-5"><a></a>        <span class="va">self</span>.size <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb9-6"><a></a>        <span class="va">self</span>.board <span class="op">=</span> np.full((<span class="va">self</span>.size, <span class="va">self</span>.size), <span class="st">' '</span>)</span>
<span id="cb9-7"><a></a></span>
<span id="cb9-8"><a></a>    <span class="kw">def</span> get_valid_moves(<span class="va">self</span>, state):</span>
<span id="cb9-9"><a></a>        <span class="co"># Returns a list of available positions</span></span>
<span id="cb9-10"><a></a>        moves <span class="op">=</span> []</span>
<span id="cb9-11"><a></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="va">self</span>.size):</span>
<span id="cb9-12"><a></a>            <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="va">self</span>.size):</span>
<span id="cb9-13"><a></a>                <span class="cf">if</span> state[i][j] <span class="op">==</span> <span class="st">' '</span>:</span>
<span id="cb9-14"><a></a>                    moves.append((i, j))</span>
<span id="cb9-15"><a></a>        <span class="cf">return</span> moves</span>
<span id="cb9-16"><a></a></span>
<span id="cb9-17"><a></a>    <span class="kw">def</span> make_move(<span class="va">self</span>, state, move, player):</span>
<span id="cb9-18"><a></a>        <span class="co"># Returns a new state after making the move</span></span>
<span id="cb9-19"><a></a>        new_state <span class="op">=</span> state.copy()</span>
<span id="cb9-20"><a></a>        new_state[move] <span class="op">=</span> player</span>
<span id="cb9-21"><a></a>        <span class="cf">return</span> new_state</span>
<span id="cb9-22"><a></a></span>
<span id="cb9-23"><a></a>    <span class="kw">def</span> is_terminal(<span class="va">self</span>, state):</span>
<span id="cb9-24"><a></a></span>
<span id="cb9-25"><a></a>        <span class="co"># Check rows, columns, and diagonals for a win</span></span>
<span id="cb9-26"><a></a>        lines <span class="op">=</span> []</span>
<span id="cb9-27"><a></a>        lines.extend(state)  <span class="co"># Rows</span></span>
<span id="cb9-28"><a></a>        lines.extend(state.T)  <span class="co"># Columns</span></span>
<span id="cb9-29"><a></a>        lines.append(np.diagonal(state))  <span class="co"># Main diagonal</span></span>
<span id="cb9-30"><a></a>        lines.append(np.diagonal(np.fliplr(state)))  <span class="co"># Anti-diagonal</span></span>
<span id="cb9-31"><a></a></span>
<span id="cb9-32"><a></a>        <span class="cf">for</span> line <span class="kw">in</span> lines:</span>
<span id="cb9-33"><a></a>            <span class="cf">if</span> np.<span class="bu">all</span>(line <span class="op">==</span> <span class="st">'X'</span>) <span class="kw">or</span> np.<span class="bu">all</span>(line <span class="op">==</span> <span class="st">'O'</span>):</span>
<span id="cb9-34"><a></a>                <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb9-35"><a></a></span>
<span id="cb9-36"><a></a>        <span class="co"># Check for a draw (no empty spaces)</span></span>
<span id="cb9-37"><a></a>        <span class="cf">if</span> <span class="st">' '</span> <span class="kw">not</span> <span class="kw">in</span> state:</span>
<span id="cb9-38"><a></a>            <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb9-39"><a></a></span>
<span id="cb9-40"><a></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb9-41"><a></a></span>
<span id="cb9-42"><a></a>    <span class="kw">def</span> evaluate(<span class="va">self</span>, state):</span>
<span id="cb9-43"><a></a></span>
<span id="cb9-44"><a></a>        <span class="co"># Simple evaluation function</span></span>
<span id="cb9-45"><a></a>        lines <span class="op">=</span> []</span>
<span id="cb9-46"><a></a>        lines.extend(state)  <span class="co"># Rows</span></span>
<span id="cb9-47"><a></a>        lines.extend(state.T)  <span class="co"># Columns</span></span>
<span id="cb9-48"><a></a>        lines.append(np.diagonal(state))  <span class="co"># Main diagonal</span></span>
<span id="cb9-49"><a></a>        lines.append(np.diagonal(np.fliplr(state)))  <span class="co"># Anti-diagonal</span></span>
<span id="cb9-50"><a></a></span>
<span id="cb9-51"><a></a>        <span class="cf">for</span> line <span class="kw">in</span> lines:</span>
<span id="cb9-52"><a></a>            <span class="cf">if</span> np.<span class="bu">all</span>(line <span class="op">==</span> <span class="st">'X'</span>):</span>
<span id="cb9-53"><a></a>                <span class="cf">return</span> <span class="dv">1</span>  <span class="co"># X wins</span></span>
<span id="cb9-54"><a></a>            <span class="cf">if</span> np.<span class="bu">all</span>(line <span class="op">==</span> <span class="st">'O'</span>):</span>
<span id="cb9-55"><a></a>                <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span>  <span class="co"># O wins</span></span>
<span id="cb9-56"><a></a></span>
<span id="cb9-57"><a></a>        <span class="cf">return</span> <span class="dv">0</span>  <span class="co"># Draw or ongoing</span></span>
<span id="cb9-58"><a></a></span>
<span id="cb9-59"><a></a>    <span class="kw">def</span> display(<span class="va">self</span>, state):</span>
<span id="cb9-60"><a></a></span>
<span id="cb9-61"><a></a>        display_tic_tac_toe(state, title<span class="op">=</span><span class="va">None</span>)</span>
<span id="cb9-62"><a></a></span>
<span id="cb9-63"><a></a>    <span class="kw">def</span> get_opponent(<span class="va">self</span>, player):</span>
<span id="cb9-64"><a></a>        <span class="cf">return</span> <span class="st">'O'</span> <span class="cf">if</span> player <span class="op">==</span> <span class="st">'X'</span> <span class="cf">else</span> <span class="st">'X'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="minimax-1" class="slide level2">
<h2>Minimax</h2>
<div id="3dafb6d6" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a></a><span class="im">import</span> math</span>
<span id="cb10-2"><a></a></span>
<span id="cb10-3"><a></a><span class="kw">def</span> minimax(game, state, depth, player, maximizing_player):</span>
<span id="cb10-4"><a></a></span>
<span id="cb10-5"><a></a>    <span class="cf">if</span> game.is_terminal(state) <span class="kw">or</span> depth <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb10-6"><a></a>        <span class="cf">return</span> game.evaluate(state), <span class="va">None</span></span>
<span id="cb10-7"><a></a></span>
<span id="cb10-8"><a></a>    valid_moves <span class="op">=</span> game.get_valid_moves(state)</span>
<span id="cb10-9"><a></a>    best_move <span class="op">=</span> <span class="va">None</span></span>
<span id="cb10-10"><a></a></span>
<span id="cb10-11"><a></a>    <span class="cf">if</span> maximizing_player:</span>
<span id="cb10-12"><a></a>        max_eval <span class="op">=</span> <span class="op">-</span>math.inf</span>
<span id="cb10-13"><a></a>        <span class="cf">for</span> move <span class="kw">in</span> valid_moves:</span>
<span id="cb10-14"><a></a>            new_state <span class="op">=</span> game.make_move(state, move, player)</span>
<span id="cb10-15"><a></a>            eval_score, _ <span class="op">=</span> minimax(game, new_state, depth <span class="op">-</span> <span class="dv">1</span>, game.get_opponent(player), <span class="va">False</span>)</span>
<span id="cb10-16"><a></a>            <span class="cf">if</span> eval_score <span class="op">&gt;</span> max_eval:</span>
<span id="cb10-17"><a></a>                max_eval <span class="op">=</span> eval_score</span>
<span id="cb10-18"><a></a>                best_move <span class="op">=</span> move</span>
<span id="cb10-19"><a></a>        <span class="cf">return</span> max_eval, best_move</span>
<span id="cb10-20"><a></a>    <span class="cf">else</span>:</span>
<span id="cb10-21"><a></a>        min_eval <span class="op">=</span> math.inf</span>
<span id="cb10-22"><a></a>        <span class="cf">for</span> move <span class="kw">in</span> valid_moves:</span>
<span id="cb10-23"><a></a>            new_state <span class="op">=</span> game.make_move(state, move, player)</span>
<span id="cb10-24"><a></a>            eval_score, _ <span class="op">=</span> minimax(game, new_state, depth <span class="op">-</span> <span class="dv">1</span>, game.get_opponent(player), <span class="va">True</span>)</span>
<span id="cb10-25"><a></a>            <span class="cf">if</span> eval_score <span class="op">&lt;</span> min_eval:</span>
<span id="cb10-26"><a></a>                min_eval <span class="op">=</span> eval_score</span>
<span id="cb10-27"><a></a>                best_move <span class="op">=</span> move</span>
<span id="cb10-28"><a></a>        <span class="cf">return</span> min_eval, best_move</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="run" class="slide level2 scrollable">
<h2>Run</h2>
<div id="2d8ba968" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a></a><span class="kw">def</span> test_tic_tac_toe():</span>
<span id="cb11-2"><a></a></span>
<span id="cb11-3"><a></a>    game <span class="op">=</span> TicTacToe()</span>
<span id="cb11-4"><a></a>    current_state <span class="op">=</span> game.board.copy()</span>
<span id="cb11-5"><a></a>    player <span class="op">=</span> <span class="st">'X'</span></span>
<span id="cb11-6"><a></a>    maximizing_player<span class="op">=</span><span class="va">True</span></span>
<span id="cb11-7"><a></a></span>
<span id="cb11-8"><a></a>    <span class="co"># Simulate a game</span></span>
<span id="cb11-9"><a></a>    <span class="cf">while</span> <span class="kw">not</span> game.is_terminal(current_state):</span>
<span id="cb11-10"><a></a></span>
<span id="cb11-11"><a></a>        game.display(current_state)</span>
<span id="cb11-12"><a></a></span>
<span id="cb11-13"><a></a>        _, move <span class="op">=</span> minimax(game, current_state, depth<span class="op">=</span><span class="dv">9</span>, player<span class="op">=</span>player, maximizing_player<span class="op">=</span>maximizing_player)</span>
<span id="cb11-14"><a></a></span>
<span id="cb11-15"><a></a>        <span class="cf">if</span> move <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb11-16"><a></a>            <span class="bu">print</span>(<span class="st">"Game Over!"</span>)</span>
<span id="cb11-17"><a></a>            <span class="cf">break</span></span>
<span id="cb11-18"><a></a></span>
<span id="cb11-19"><a></a>        current_state <span class="op">=</span> game.make_move(current_state, move, player)</span>
<span id="cb11-20"><a></a></span>
<span id="cb11-21"><a></a>        player <span class="op">=</span> game.get_opponent(player)</span>
<span id="cb11-22"><a></a>        maximizing_player <span class="op">=</span> <span class="kw">not</span> maximizing_player</span>
<span id="cb11-23"><a></a></span>
<span id="cb11-24"><a></a>    game.display(current_state)</span>
<span id="cb11-25"><a></a>    result <span class="op">=</span> game.evaluate(current_state)</span>
<span id="cb11-26"><a></a>    <span class="cf">if</span> result <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb11-27"><a></a>        <span class="bu">print</span>(<span class="st">"X wins!"</span>)</span>
<span id="cb11-28"><a></a>    <span class="cf">elif</span> result <span class="op">==</span> <span class="op">-</span><span class="dv">1</span>:</span>
<span id="cb11-29"><a></a>        <span class="bu">print</span>(<span class="st">"O wins!"</span>)</span>
<span id="cb11-30"><a></a>    <span class="cf">else</span>:</span>
<span id="cb11-31"><a></a>        <span class="bu">print</span>(<span class="st">"It's a draw!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="run-12" class="slide level2 scrollable">
<h2>Run (1/2)</h2>
<div id="48a88b8c" class="cell" data-execution_count="14">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-15-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img data-src="slides_files/figure-revealjs/cell-15-output-1.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-15-output-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img data-src="slides_files/figure-revealjs/cell-15-output-2.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-15-output-3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img data-src="slides_files/figure-revealjs/cell-15-output-3.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-15-output-4.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img data-src="slides_files/figure-revealjs/cell-15-output-4.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-15-output-5.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img data-src="slides_files/figure-revealjs/cell-15-output-5.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-15-output-6.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img data-src="slides_files/figure-revealjs/cell-15-output-6.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-15-output-7.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img data-src="slides_files/figure-revealjs/cell-15-output-7.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-15-output-8.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img data-src="slides_files/figure-revealjs/cell-15-output-8.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-15-output-9.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img data-src="slides_files/figure-revealjs/cell-15-output-9.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-15-output-10.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img data-src="slides_files/figure-revealjs/cell-15-output-10.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>It's a draw!
Elapsed time: 22.929095 seconds</code></pre>
</div>
</div>
</section>
<section id="faster-execution-digression" class="slide level2">
<h2>Faster Execution (digression)</h2>
<ul>
<li><p>Is <code>test_tic_tac_toe</code> slower than expected?</p></li>
<li><p>Do you see an area for improvement?</p></li>
</ul>
</section>
<section id="caching" class="slide level2">
<h2>Caching</h2>
<div id="3925698d" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a></a><span class="kw">def</span> memoize_minimax(f):</span>
<span id="cb13-2"><a></a></span>
<span id="cb13-3"><a></a>    cache <span class="op">=</span> {}</span>
<span id="cb13-4"><a></a></span>
<span id="cb13-5"><a></a>    <span class="kw">def</span> wrapper(game, state, depth, player, maximizing_player):</span>
<span id="cb13-6"><a></a></span>
<span id="cb13-7"><a></a>        state_key <span class="op">=</span> <span class="bu">tuple</span>(<span class="bu">map</span>(<span class="bu">tuple</span>, state)) <span class="co"># hashable state</span></span>
<span id="cb13-8"><a></a>        key <span class="op">=</span> (state_key, depth, player, maximizing_player)</span>
<span id="cb13-9"><a></a></span>
<span id="cb13-10"><a></a>        <span class="cf">if</span> key <span class="kw">in</span> cache:</span>
<span id="cb13-11"><a></a>            <span class="cf">return</span> cache[key]</span>
<span id="cb13-12"><a></a></span>
<span id="cb13-13"><a></a>        result <span class="op">=</span> f(game, state, depth, player, maximizing_player)</span>
<span id="cb13-14"><a></a>        cache[key] <span class="op">=</span> result</span>
<span id="cb13-15"><a></a></span>
<span id="cb13-16"><a></a>        <span class="cf">return</span> result</span>
<span id="cb13-17"><a></a></span>
<span id="cb13-18"><a></a>    <span class="cf">return</span> wrapper</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="caching-1" class="slide level2">
<h2>Caching</h2>
<div id="27250eb6" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a></a><span class="at">@memoize_minimax</span></span>
<span id="cb14-2"><a></a><span class="kw">def</span> minimax(game, state, depth, player, maximizing_player):</span>
<span id="cb14-3"><a></a></span>
<span id="cb14-4"><a></a>    <span class="co"># The minimax code remains the same, without any cache handling</span></span>
<span id="cb14-5"><a></a>    <span class="cf">if</span> game.is_terminal(state) <span class="kw">or</span> depth <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb14-6"><a></a>        <span class="cf">return</span> game.evaluate(state), <span class="va">None</span></span>
<span id="cb14-7"><a></a></span>
<span id="cb14-8"><a></a>    valid_moves <span class="op">=</span> game.get_valid_moves(state)</span>
<span id="cb14-9"><a></a>    best_move <span class="op">=</span> <span class="va">None</span></span>
<span id="cb14-10"><a></a></span>
<span id="cb14-11"><a></a>    <span class="cf">if</span> maximizing_player:</span>
<span id="cb14-12"><a></a>        max_eval <span class="op">=</span> <span class="op">-</span>math.inf</span>
<span id="cb14-13"><a></a>        <span class="cf">for</span> move <span class="kw">in</span> valid_moves:</span>
<span id="cb14-14"><a></a>            new_state <span class="op">=</span> game.make_move(state, move, player)</span>
<span id="cb14-15"><a></a>            eval_score, _ <span class="op">=</span> minimax(game, new_state, depth <span class="op">-</span> <span class="dv">1</span>, game.get_opponent(player), <span class="va">False</span>)</span>
<span id="cb14-16"><a></a>            <span class="cf">if</span> eval_score <span class="op">&gt;</span> max_eval:</span>
<span id="cb14-17"><a></a>                max_eval <span class="op">=</span> eval_score</span>
<span id="cb14-18"><a></a>                best_move <span class="op">=</span> move</span>
<span id="cb14-19"><a></a>        <span class="cf">return</span> max_eval, best_move</span>
<span id="cb14-20"><a></a>    <span class="cf">else</span>:</span>
<span id="cb14-21"><a></a>        min_eval <span class="op">=</span> math.inf</span>
<span id="cb14-22"><a></a>        <span class="cf">for</span> move <span class="kw">in</span> valid_moves:</span>
<span id="cb14-23"><a></a>            new_state <span class="op">=</span> game.make_move(state, move, player)</span>
<span id="cb14-24"><a></a>            eval_score, _ <span class="op">=</span> minimax(game, new_state, depth <span class="op">-</span> <span class="dv">1</span>, game.get_opponent(player), <span class="va">True</span>)</span>
<span id="cb14-25"><a></a>            <span class="cf">if</span> eval_score <span class="op">&lt;</span> min_eval:</span>
<span id="cb14-26"><a></a>                min_eval <span class="op">=</span> eval_score</span>
<span id="cb14-27"><a></a>                best_move <span class="op">=</span> move</span>
<span id="cb14-28"><a></a>        <span class="cf">return</span> min_eval, best_move</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="run-22" class="slide level2 scrollable">
<h2>Run (2/2)</h2>
<div id="412ad7c2" class="cell" data-execution_count="17">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-18-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img data-src="slides_files/figure-revealjs/cell-18-output-1.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-18-output-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21"><img data-src="slides_files/figure-revealjs/cell-18-output-2.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-18-output-3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22"><img data-src="slides_files/figure-revealjs/cell-18-output-3.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-18-output-4.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23"><img data-src="slides_files/figure-revealjs/cell-18-output-4.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-18-output-5.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24"><img data-src="slides_files/figure-revealjs/cell-18-output-5.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-18-output-6.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25"><img data-src="slides_files/figure-revealjs/cell-18-output-6.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-18-output-7.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26"><img data-src="slides_files/figure-revealjs/cell-18-output-7.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-18-output-8.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27"><img data-src="slides_files/figure-revealjs/cell-18-output-8.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-18-output-9.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img data-src="slides_files/figure-revealjs/cell-18-output-9.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><a href="slides_files/figure-revealjs/cell-18-output-10.png" class="lightbox" data-gallery="quarto-lightbox-gallery-29"><img data-src="slides_files/figure-revealjs/cell-18-output-10.png" width="389" height="389"></a></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>It's a draw!
Elapsed time: 0.576714 seconds</code></pre>
</div>
</div>
</section>
<section id="lower-predictability-digression" class="slide level2">
<h2>Lower Predictability (digression)</h2>
<div id="a8bbe403" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a></a><span class="im">import</span> random</span>
<span id="cb16-2"><a></a></span>
<span id="cb16-3"><a></a><span class="kw">class</span> TicTacToe(Game):</span>
<span id="cb16-4"><a></a></span>
<span id="cb16-5"><a></a>    <span class="kw">def</span> get_valid_moves(<span class="va">self</span>, state):</span>
<span id="cb16-6"><a></a>        <span class="co"># Returns a list of available positions</span></span>
<span id="cb16-7"><a></a>        moves <span class="op">=</span> []</span>
<span id="cb16-8"><a></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="va">self</span>.size):</span>
<span id="cb16-9"><a></a>            <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="va">self</span>.size):</span>
<span id="cb16-10"><a></a>                <span class="cf">if</span> state[i][j] <span class="op">==</span> <span class="st">' '</span>:</span>
<span id="cb16-11"><a></a>                    moves.append((i, j))</span>
<span id="cb16-12"><a></a></span>
<span id="cb16-13"><a></a>        <span class="cf">return</span> random.shuffle(moves)</span>
<span id="cb16-14"><a></a></span>
<span id="cb16-15"><a></a>    <span class="co"># All the other methods stay the same</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<aside class="notes">
<p>We are randomizing the order of moves prior to returning them. However, the optimal move for a given configuration will remain fixed, if solutions are cached.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p>Games can become monotonous if you quickly discern patterns in your opponent’s strategy, such as consistently choosing moves in a specific sequence.</p>
</div></aside></section>
<section id="exploration" class="slide level2">
<h2>Exploration</h2>
<ul>
<li><p>Compare the reduction in execution time achieved through <strong>symmetry considerations</strong> versus <strong>caching techniques</strong>. Evaluate the <strong>combined effect of both approaches</strong>.</p></li>
<li><p>Develop a <strong><a href="https://en.wikipedia.org/wiki/Connect_Four">Connect Four</a></strong> game implementation employing a <strong>minimax search algorithm</strong>.</p></li>
<li><p>Connect Four is <strong>symmetric across its vertical axis</strong>. Develop a new implementation that leverages this symmetry.</p></li>
</ul>

<aside><div>
<p><strong>See also</strong>: <a href="https://web.stanford.edu/class/archive/cs/cs221/cs221.1192/2018/restricted/posters/yuex/poster.pdf">Connect 4: Principles and Techniques</a></p>
</div></aside></section>
<section id="remark" class="slide level2">
<h2>Remark</h2>
<p>The <strong>number of valid sequences of actions grows factorially</strong>, with particularly large growth observed in games like chess and Go.</p>
</section>
<section id="pruning" class="slide level2">
<h2>Pruning</h2>
<p>To enhance the efficiency of the minimax algorithm, one could possibly <strong>prune</strong> certain parts of the search tree, thereby <strong>avoiding the exploration of descendant nodes</strong>.</p>
</section>
<section id="pruning-1" class="slide level2">
<h2>Pruning</h2>
<p><strong>How</strong> would you implement this modification? <strong>What</strong> factors would you take into account?</p>
</section>
<section id="pruning-2" class="slide level2">
<h2>Pruning</h2>
<p>Tree pruning should be performed <strong>only when it can be demonstrated that those subtrees cannot yield better solutions</strong>.</p>

<aside><div>
<p>But <strong>how</strong>?</p>
</div></aside></section>
<section id="criteria-for-pruning" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-00.png" class="lightbox" data-gallery="quarto-lightbox-gallery-30"><img data-src="../../assets/images/alpha_beta-d4-00.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>Based on <a href="https://youtu.be/l-hh51ncgDI">Algorithms Explained – minimax and alpha-beta pruning</a> by Sebastian Lague.</p>
</div></aside></section>
<section id="criteria-for-pruning-1" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-01.png" class="lightbox" data-gallery="quarto-lightbox-gallery-31"><img data-src="../../assets/images/alpha_beta-d4-01.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
</section>
<section id="criteria-for-pruning-2" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-02.png" class="lightbox" data-gallery="quarto-lightbox-gallery-32"><img data-src="../../assets/images/alpha_beta-d4-02.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
</section>
<section id="criteria-for-pruning-3" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-03.png" class="lightbox" data-gallery="quarto-lightbox-gallery-33"><img data-src="../../assets/images/alpha_beta-d4-03.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
</section>
<section id="criteria-for-pruning-4" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-04.png" class="lightbox" data-gallery="quarto-lightbox-gallery-34"><img data-src="../../assets/images/alpha_beta-d4-04.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
</section>
<section id="criteria-for-pruning-5" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-05.png" class="lightbox" data-gallery="quarto-lightbox-gallery-35"><img data-src="../../assets/images/alpha_beta-d4-05.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
<aside class="notes">
<p>We know that the value of node <strong>c</strong> is at least 5, since <strong>c</strong> is a maximizing node.</p>
<p>Node <strong>a</strong> is minimizing node and has to choose between 3 (node <strong>b</strong>) and at least 5 (node <strong>c</strong>). No matter what we find in node <strong>d</strong> does not matter, node <strong>a</strong> will choose 3.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="criteria-for-pruning-6" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-06.png" class="lightbox" data-gallery="quarto-lightbox-gallery-36"><img data-src="../../assets/images/alpha_beta-d4-06.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>Let us continue briefly.</p>
</div></aside></section>
<section id="criteria-for-pruning-7" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-07.png" class="lightbox" data-gallery="quarto-lightbox-gallery-37"><img data-src="../../assets/images/alpha_beta-d4-07.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>Let us continue briefly.</p>
</div></aside></section>
<section id="criteria-for-pruning-8" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-08.png" class="lightbox" data-gallery="quarto-lightbox-gallery-38"><img data-src="../../assets/images/alpha_beta-d4-08.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside class="notes">
<p>This is a maximizing node; therefore, we will assign it the value of -4.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p>What value should be assigned to the node indicated by the arrow?</p>
</div></aside></section>
<section id="criteria-for-pruning-9" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-09.png" class="lightbox" data-gallery="quarto-lightbox-gallery-39"><img data-src="../../assets/images/alpha_beta-d4-09.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
</section>
<section id="criteria-for-pruning-10" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-10.png" class="lightbox" data-gallery="quarto-lightbox-gallery-40"><img data-src="../../assets/images/alpha_beta-d4-10.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>The node marked by an arrow presents an interesting scenario.</p>
<p>Can you work out its value?</p>
</div></aside></section>
<section id="criteria-for-pruning-11" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-11.png" class="lightbox" data-gallery="quarto-lightbox-gallery-41"><img data-src="../../assets/images/alpha_beta-d4-11.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>What do we know?</p>
</div></aside></section>
<section id="criteria-for-pruning-12" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-12.png" class="lightbox" data-gallery="quarto-lightbox-gallery-42"><img data-src="../../assets/images/alpha_beta-d4-12.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside class="notes">
<p>Suppose the right child of node <strong>c</strong> contains the value 5. Would you assign 5 to node <strong>c</strong>? Certainly not. As a minimizing node, node <strong>c</strong> will have a value no greater than -4.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p>Can I say that the maximum value for node <strong>c</strong> is -4?</p>
</div></aside></section>
<section id="criteria-for-pruning-13" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-12.png" class="lightbox" data-gallery="quarto-lightbox-gallery-43"><img data-src="../../assets/images/alpha_beta-d4-12.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>Exploring the right child of node <strong>c</strong> might reveal a value lower than -4. <strong>Does this matter?</strong></p>
</div></aside></section>
<section id="criteria-for-pruning-14" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-12.png" class="lightbox" data-gallery="quarto-lightbox-gallery-44"><img data-src="../../assets/images/alpha_beta-d4-12.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
<aside class="notes">
<p>Node <strong>a</strong> is a maximizing node. From node <strong>b</strong>, it ascertains a minimum achievable value of 3.</p>
<p>Node <strong>c</strong> is a minimizing node. From node <strong>d</strong>, it determines that the maximum value it can return is -4.</p>
<p>Consequently, node <strong>a</strong> will always select node <strong>b</strong>, regardless of the value stored in node <strong>c</strong>, since the value of <strong>c</strong> will not exceed -4.</p>
<p>Even if node <strong>c</strong>, as a minimizing node, discovers an extremely low value (e.g., -100) by exploring its right child, node <strong>a</strong>, being a maximizing node, will still opt for node <strong>b</strong>.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="criteria-for-pruning-15" class="slide level2">
<h2>Criteria for Pruning</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-13.png" class="lightbox" data-gallery="quarto-lightbox-gallery-45"><img data-src="../../assets/images/alpha_beta-d4-13.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>The decisions made by players 1 and 2 remain unchanged with or without pruning. However, pruning reduces the number of nodes visited.</p>
</div></aside></section>
<section id="alph-beta-pruning" class="slide level2">
<h2>Alph-Beta Pruning</h2>
<p><strong>Alpha-beta pruning</strong> is an optimization technique for the minimax algorithm that <strong>reduces the number of nodes evaluated</strong> in the search tree.</p>
</section>
<section id="alph-beta-pruning-1" class="slide level2">
<h2>Alph-Beta Pruning</h2>
<p>It achieves this by <strong>eliminating branches that cannot possibly influence the final decision</strong>, using two parameters:</p>
<ul>
<li><p><strong>alpha</strong>, the maximum score that the maximizing player is assured, and</p></li>
<li><p><strong>beta</strong>, the minimum score that the minimizing player is assured.</p></li>
</ul>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="maximizing-players-perspective" class="slide level2">
<h2>Maximizing Player’s Perspective</h2>
<p>At a <strong>maximizing node</strong>:</p>
<ul>
<li><p>The <strong>maximizer</strong> aims to <strong>maximize</strong> the score.</p></li>
<li><p><strong>Alpha (<span class="math inline">\(\alpha\)</span>)</strong> is updated to the <strong>highest</strong> value found so far among child nodes.</p></li>
<li><p><strong>Process</strong>:</p>
<ul>
<li><p>Initialize <span class="math inline">\(\alpha = -\infty\)</span>.</p></li>
<li><p>For each child node:</p>
<ul>
<li><p>Compute the evaluation score.</p></li>
<li><p>Update <span class="math inline">\(\alpha = \max(\alpha, \mathrm{child\_score})\)</span>.</p></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="minimizing-players-perspective" class="slide level2">
<h2>Minimizing Player’s Perspective</h2>
<p>At a <strong>minimizing node</strong>:</p>
<ul>
<li><p>The <strong>minimizer</strong> aims to <strong>minimize</strong> the score.</p></li>
<li><p><strong>Beta (<span class="math inline">\(\beta\)</span>)</strong> is updated to the <strong>lowest</strong> value found so far among child nodes.</p></li>
<li><p><strong>Process</strong>:</p>
<ul>
<li><p>Initialize <span class="math inline">\(\beta = \infty\)</span>.</p></li>
<li><p>For each child node:</p>
<ul>
<li><p>Compute the evaluation score.</p></li>
<li><p>Update <span class="math inline">\(\beta = \min(\beta, \mathrm{child\_score})\)</span>.</p></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="alph-beta-pruning-2" class="slide level2">
<h2>Alph-Beta Pruning</h2>
<p>When a node’s evaluation proves it <strong>cannot improve</strong> on the current alpha or beta, further <strong>exploration of that branch is halted</strong>, thereby enhancing computational efficiency without affecting the outcome.</p>
</section>
<section id="role-of-alpha-and-beta-in-pruning" class="slide level2">
<h2>Role of Alpha and Beta in Pruning</h2>
<p><strong>Pruning Condition</strong>:</p>
<ul>
<li><p><strong>If <span class="math inline">\(\beta \leq \alpha\)</span></strong>, further exploration of the current node’s siblings is unnecessary.</p></li>
<li><p><strong>Rationale</strong>:</p>
<ul>
<li><p>The maximizer has a guaranteed score of at least <span class="math inline">\(\alpha\)</span>.</p></li>
<li><p>The minimizer can ensure that the maximizer cannot get a better score than <span class="math inline">\(\beta\)</span>.</p></li>
<li><p>If <span class="math inline">\(\beta \leq \alpha\)</span>, the maximizer won’t find a better option in this branch.</p></li>
</ul></li>
</ul>
</section>
<section id="alpha-beta-search" class="slide level2">
<h2>Alpha-Beta Search</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta_rn-5_7.png" class="lightbox" data-gallery="quarto-lightbox-gallery-46"><img data-src="../../assets/images/alpha_beta_rn-5_7.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p><strong>Attribution</strong>: <span class="citation" data-cites="Russell:2020aa">(<a href="#/references" role="doc-biblioref" onclick="">Russell and Norvig 2020, fig. 5.7</a>)</span></p>
</div></aside></section>
<section id="walkthrough-621-to-810" class="slide level2">
<h2>Walkthrough (6:21 to 8:10)</h2>
<iframe data-external="1" src="https://www.youtube.com/embed/l-hh51ncgDI?start=381" width="800" height="450" title="Algorithms Explained – minimax and alpha-beta pruning" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<aside><div>
<p><strong>Attribution</strong>: <a href="https://sebastian.itch.io">Sebastian Lague</a>. Start watching at 6<strong>m</strong> 21<strong>s</strong>.</p>
</div></aside></section>
<section id="node-order" class="slide level2">
<h2>Node Order</h2>
<ul>
<li><p>The <strong>effectiveness of pruning</strong> is influenced by the <strong>order</strong> in which nodes are evaluated.</p></li>
<li><p>Greater pruning is achieved if nodes are ordered from <strong>most to least promising</strong>.</p></li>
</ul>

<aside><div>
<p><strong>Refer to</strong>: <span class="citation" data-cites="Shannon:1959aa">Shannon (<a href="#/references" role="doc-biblioref" onclick="">1959</a>)</span> for a discussion within the context of chess.</p>
</div></aside></section>
<section id="alpha-beta-search-1" class="slide level2">
<h2>Alpha-Beta Search</h2>
<div id="f616199e" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a></a><span class="co"># Minimax algorithm with Alpha-Beta Pruning</span></span>
<span id="cb17-2"><a></a></span>
<span id="cb17-3"><a></a><span class="kw">def</span> alpha_beta_search(game, state, depth, player, alpha, beta, maximizing_player):</span>
<span id="cb17-4"><a></a></span>
<span id="cb17-5"><a></a>    <span class="co">"""</span></span>
<span id="cb17-6"><a></a><span class="co">    Minimax algorithm with alpha-beta pruning.</span></span>
<span id="cb17-7"><a></a></span>
<span id="cb17-8"><a></a><span class="co">    :param game: The game instance.</span></span>
<span id="cb17-9"><a></a><span class="co">    :param state: The current game state.</span></span>
<span id="cb17-10"><a></a><span class="co">    :param depth: The maximum depth to search.</span></span>
<span id="cb17-11"><a></a><span class="co">    :param player: The current player ('X' or 'O').</span></span>
<span id="cb17-12"><a></a><span class="co">    :param alpha: The best value that the maximizer currently can guarantee at that level or above.</span></span>
<span id="cb17-13"><a></a><span class="co">    :param beta: The best value that the minimizer currently can guarantee at that level or above.</span></span>
<span id="cb17-14"><a></a><span class="co">    :param maximizing_player: True if the current move is for the maximizer.</span></span>
<span id="cb17-15"><a></a><span class="co">    :return: A tuple of (evaluation score, best move).</span></span>
<span id="cb17-16"><a></a><span class="co">    """</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="alpha-beta-search-2" class="slide level2">
<h2>Alpha-Beta Search</h2>
<div id="6e36836d" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a></a>    <span class="co"># Base case: check for terminal state or maximum depth</span></span>
<span id="cb18-2"><a></a></span>
<span id="cb18-3"><a></a>    <span class="cf">if</span> game.is_terminal(state) <span class="kw">or</span> depth <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb18-4"><a></a>        score <span class="op">=</span> game.evaluate(state)</span>
<span id="cb18-5"><a></a>        <span class="cf">return</span> score, <span class="va">None</span>  <span class="co"># Return the evaluation score and no move</span></span>
<span id="cb18-6"><a></a></span>
<span id="cb18-7"><a></a>    valid_moves <span class="op">=</span> game.get_valid_moves(state)</span>
<span id="cb18-8"><a></a>    best_move <span class="op">=</span> <span class="va">None</span>  <span class="co"># Initialize the best move</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<aside><div>
<p>The base case is identical to that of the <code>minimax</code> algorithm.</p>
</div></aside></section>
<section id="alpha-beta-search-3" class="slide level2">
<h2>Alpha-Beta Search</h2>
<div id="51af039c" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a></a>    <span class="cf">if</span> maximizing_player:</span>
<span id="cb19-2"><a></a></span>
<span id="cb19-3"><a></a>        max_eval <span class="op">=</span> <span class="op">-</span>math.inf  <span class="co"># Initialize maximum evaluation</span></span>
<span id="cb19-4"><a></a></span>
<span id="cb19-5"><a></a>        <span class="cf">for</span> move <span class="kw">in</span> valid_moves:</span>
<span id="cb19-6"><a></a></span>
<span id="cb19-7"><a></a>            <span class="co"># Simulate the move</span></span>
<span id="cb19-8"><a></a>            new_state <span class="op">=</span> game.make_move(state, move, player)</span>
<span id="cb19-9"><a></a></span>
<span id="cb19-10"><a></a>            <span class="co"># Recursive call to alpha_beta_search for the minimizing player</span></span>
<span id="cb19-11"><a></a>            eval_score, _ <span class="op">=</span> alpha_beta_search(game, new_state, depth <span class="op">-</span> <span class="dv">1</span>, game.get_opponent(player), alpha, beta, <span class="va">False</span>)</span>
<span id="cb19-12"><a></a></span>
<span id="cb19-13"><a></a>            <span class="cf">if</span> eval_score <span class="op">&gt;</span> max_eval:</span>
<span id="cb19-14"><a></a>                max_eval <span class="op">=</span> eval_score  <span class="co"># Update maximum evaluation</span></span>
<span id="cb19-15"><a></a>                best_move <span class="op">=</span> move       <span class="co"># Update best move</span></span>
<span id="cb19-16"><a></a></span>
<span id="cb19-17"><a></a>            alpha <span class="op">=</span> <span class="bu">max</span>(alpha, eval_score)  <span class="co"># Update alpha</span></span>
<span id="cb19-18"><a></a></span>
<span id="cb19-19"><a></a>            <span class="cf">if</span> beta <span class="op">&lt;=</span> alpha:</span>
<span id="cb19-20"><a></a>                <span class="cf">break</span>  <span class="co"># Beta cut-off (prune the remaining branches)</span></span>
<span id="cb19-21"><a></a></span>
<span id="cb19-22"><a></a>        <span class="cf">return</span> max_eval, best_move</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="alpha-beta-search-4" class="slide level2">
<h2>Alpha-Beta Search</h2>
<div id="d2683119" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a></a>    <span class="cf">else</span>:</span>
<span id="cb20-2"><a></a></span>
<span id="cb20-3"><a></a>        min_eval <span class="op">=</span> math.inf  <span class="co"># Initialize minimum evaluation</span></span>
<span id="cb20-4"><a></a></span>
<span id="cb20-5"><a></a>        <span class="cf">for</span> move <span class="kw">in</span> valid_moves:</span>
<span id="cb20-6"><a></a></span>
<span id="cb20-7"><a></a>            <span class="co"># Simulate the move</span></span>
<span id="cb20-8"><a></a>            new_state <span class="op">=</span> game.make_move(state, move, player)</span>
<span id="cb20-9"><a></a></span>
<span id="cb20-10"><a></a>            <span class="co"># Recursive call to alpha_beta_search for the maximizing player</span></span>
<span id="cb20-11"><a></a>            eval_score, _ <span class="op">=</span> alpha_beta_search(game, new_state, depth <span class="op">-</span> <span class="dv">1</span>, game.get_opponent(player), alpha, beta, <span class="va">True</span>)</span>
<span id="cb20-12"><a></a></span>
<span id="cb20-13"><a></a>            <span class="cf">if</span> eval_score <span class="op">&lt;</span> min_eval:</span>
<span id="cb20-14"><a></a>                min_eval <span class="op">=</span> eval_score  <span class="co"># Update minimum evaluation</span></span>
<span id="cb20-15"><a></a>                best_move <span class="op">=</span> move       <span class="co"># Update best move</span></span>
<span id="cb20-16"><a></a></span>
<span id="cb20-17"><a></a>            beta <span class="op">=</span> <span class="bu">min</span>(beta, eval_score)  <span class="co"># Update beta</span></span>
<span id="cb20-18"><a></a></span>
<span id="cb20-19"><a></a>            <span class="cf">if</span> beta <span class="op">&lt;=</span> alpha:</span>
<span id="cb20-20"><a></a>                <span class="cf">break</span>  <span class="co"># Alpha cut-off (prune the remaining branches)</span></span>
<span id="cb20-21"><a></a></span>
<span id="cb20-22"><a></a>        <span class="cf">return</span> min_eval, best_move</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="walkthrough" class="slide level2">
<h2>Walkthrough</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-00-u.png" class="lightbox" data-gallery="quarto-lightbox-gallery-47"><img data-src="../../assets/images/alpha_beta-d4-00-u.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p><strong>Maximizing</strong> nodes update the <strong>alpha</strong> values, while <strong>minimizing</strong> nodes update the <strong>beta</strong> values.</p>
</div></aside></section>
<section id="walkthrough-1" class="slide level2">
<h2>Walkthrough</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-01-u.png" class="lightbox" data-gallery="quarto-lightbox-gallery-48"><img data-src="../../assets/images/alpha_beta-d4-01-u.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>The values of <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> are initially set to <span class="math inline">\(-\infty\)</span> and <span class="math inline">\(\infty\)</span>, respectively. The recursive calls continue traversing the tree until the leftmost node is reached.</p>
</div></aside></section>
<section id="walkthrough-2" class="slide level2">
<h2>Walkthrough</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-01-u-b.png" class="lightbox" data-gallery="quarto-lightbox-gallery-49"><img data-src="../../assets/images/alpha_beta-d4-01-u-b.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>The value of <span class="math inline">\(\alpha\)</span> is updated to -1.</p>
</div></aside></section>
<section id="walkthrough-3" class="slide level2">
<h2>Walkthrough</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-02-u.png" class="lightbox" data-gallery="quarto-lightbox-gallery-50"><img data-src="../../assets/images/alpha_beta-d4-02-u.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>Updating <span class="math inline">\(\alpha\)</span> to 3.</p>
</div></aside></section>
<section id="walkthrough-4" class="slide level2">
<h2>Walkthrough</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-03-u.png" class="lightbox" data-gallery="quarto-lightbox-gallery-51"><img data-src="../../assets/images/alpha_beta-d4-03-u.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>Updating <span class="math inline">\(\beta\)</span> from <span class="math inline">\(\infty\)</span> to 3. Passing those values to the right child.</p>
</div></aside></section>
<section id="walkthrough-5" class="slide level2">
<h2>Walkthrough</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-04-u.png" class="lightbox" data-gallery="quarto-lightbox-gallery-52"><img data-src="../../assets/images/alpha_beta-d4-04-u.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>Updating <span class="math inline">\(\alpha\)</span> from <span class="math inline">\(-\infty\)</span> to 5. We now have <span class="math inline">\(\beta \le \alpha\)</span>.</p>
</div></aside></section>
<section id="walkthrough-6" class="slide level2">
<h2>Walkthrough</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-05-u.png" class="lightbox" data-gallery="quarto-lightbox-gallery-53"><img data-src="../../assets/images/alpha_beta-d4-05-u.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>The right child is not visited. The parent (a minimizer) has a better option (<span class="math inline">\(\beta\)</span>) than <span class="math inline">\(\alpha\)</span>.</p>
</div></aside></section>
<section id="walkthrough-7" class="slide level2">
<h2>Walkthrough</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-06-u.png" class="lightbox" data-gallery="quarto-lightbox-gallery-54"><img data-src="../../assets/images/alpha_beta-d4-06-u.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>Returning from the recursive calls, the root node receives a value of 3 from its left child and updates its <span class="math inline">\(\alpha\)</span> to 3, which exceeds its initial value of <span class="math inline">\(-\infty\)</span>.</p>
</div></aside></section>
<section id="walkthrough-8" class="slide level2">
<h2>Walkthrough</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-07-u.png" class="lightbox" data-gallery="quarto-lightbox-gallery-55"><img data-src="../../assets/images/alpha_beta-d4-07-u.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>Now traversing the right subtree from the root. Upon reaching left-most maximizing node of the right subtree, <span class="math inline">\(\alpha\)</span> is not updated since -6 and -4 are less than 3.</p>
</div></aside></section>
<section id="walkthrough-9" class="slide level2">
<h2>Walkthrough</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-08-u.png" class="lightbox" data-gallery="quarto-lightbox-gallery-56"><img data-src="../../assets/images/alpha_beta-d4-08-u.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p><span class="math inline">\(\beta\)</span> is now updated to -4. We now have that <span class="math inline">\(\beta \le \alpha\)</span>.</p>
</div></aside></section>
<section id="walkthrough-10" class="slide level2">
<h2>Walkthrough</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-09-u.png" class="lightbox" data-gallery="quarto-lightbox-gallery-57"><img data-src="../../assets/images/alpha_beta-d4-09-u.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>The right child is pruned.</p>
</div></aside></section>
<section id="walkthrough-11" class="slide level2">
<h2>Walkthrough</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-10-u.png" class="lightbox" data-gallery="quarto-lightbox-gallery-58"><img data-src="../../assets/images/alpha_beta-d4-10-u.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>

<aside><div>
<p>The maximizing player knows that its best move has a value of 3 (going left).</p>
</div></aside></section>
<section id="summmary" class="slide level2 smaller">
<h2>Summmary</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="../../assets/images/alpha_beta-d4-summary.png" class="lightbox" data-gallery="quarto-lightbox-gallery-59"><img data-src="../../assets/images/alpha_beta-d4-summary.png" class="quarto-figure quarto-figure-center"></a></p>
</figure>
</div>
<ul>
<li><strong>Alpha Cutoff:</strong> Occurs at <strong>minimizer nodes</strong> when <span class="math inline">\(\beta \le \alpha\)</span>.</li>
<li><strong>Beta Cutoff:</strong> Occurs at <strong>maximizer nodes</strong> when <span class="math inline">\(\alpha \ge \beta\)</span>.</li>
</ul>
<aside class="notes">
<ol type="1">
<li><strong>Pruning at Both Node Types:</strong>
<ul>
<li>Pruning can occur during both the minimization and maximization phases. This means that both <strong>minimizer</strong> and <strong>maximizer</strong> nodes can be pruned if certain conditions are met.</li>
</ul></li>
<li><strong>Updating Alpha and Beta:</strong>
<ul>
<li>At <strong>maximizer nodes</strong>, the algorithm updates the <strong>alpha</strong> value to the maximum of its current value and the value of the child nodes evaluated so far.</li>
<li>At <strong>minimizer nodes</strong>, the algorithm updates the <strong>beta</strong> value to the minimum of its current value and the value of the child nodes evaluated so far.</li>
</ul></li>
<li><strong>Pruning Conditions:</strong>
<ul>
<li><strong>At Maximizer Nodes:</strong>
<ul>
<li>If <strong>alpha</strong> becomes <strong>greater than or equal to beta</strong> (<span class="math inline">\(\alpha \ge \beta\)</span>), further exploration of the current node’s descendants can be stopped. This is because the minimizer (opponent) can force the outcome to be no better than beta, so the maximizer cannot improve the result beyond this point.</li>
<li>This is often referred to as a <strong>beta cutoff</strong> because the value of beta is causing the pruning at a maximizer node.</li>
</ul></li>
<li><strong>At Minimizer Nodes:</strong>
<ul>
<li>If <strong>beta</strong> becomes <strong>less than or equal to alpha</strong> (<span class="math inline">\(\beta \le \alpha\)</span>), the algorithm can prune the remaining child nodes of the minimizer node. This is because the maximizer can force a result of at least alpha, so the minimizer cannot find a better (lower) outcome.</li>
<li>This is known as an <strong>alpha cutoff</strong> because the value of alpha is causing the pruning at a minimizer node.</li>
</ul></li>
</ul></li>
<li><strong>Process of Pruning:</strong>
<ul>
<li>The pruning occurs <strong>not when alpha or beta are updated</strong>, but when the pruning condition (<span class="math inline">\(\alpha \ge \beta\)</span> at maximizer nodes or <span class="math inline">\(\beta \le \alpha\)</span> at minimizer nodes) is met.</li>
<li>Once these conditions are satisfied, the algorithm knows that further exploration will not yield a better outcome, and thus it can safely prune those branches.</li>
</ul></li>
</ol>
<p><strong>Summary:</strong></p>
<ul>
<li><p><strong>Alpha Cutoff:</strong> Occurs at <strong>minimizer nodes</strong> when <span class="math inline">\(\beta \le \alpha\)</span>.</p></li>
<li><p><strong>Beta Cutoff:</strong> Occurs at <strong>maximizer nodes</strong> when <span class="math inline">\(\alpha \ge \beta\)</span>.</p></li>
<li><p><strong>Why Pruning Occurs:</strong></p>
<ul>
<li>In both cases, the pruning occurs because further exploration cannot influence the final decision. The opponent can force the game into a situation that’s no better than the current evaluation.</li>
</ul></li>
<li><p><strong>Impact on Algorithm Efficiency:</strong></p>
<ul>
<li>By implementing these cutoffs, the alpha-beta pruning algorithm reduces the number of nodes that need to be evaluated compared to the standard minimax algorithm, thus improving efficiency without affecting the outcome.</li>
</ul></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="minimax-vs.-alpha-beta-pruning" class="slide level2">
<h2>Minimax vs.&nbsp;Alpha-Beta Pruning</h2>
<ul>
<li class="fragment"><p>Grasping <strong>why alpha-beta pruning boosts minimax efficiency</strong> without altering outcomes requires <strong>careful thought</strong>.</p></li>
<li class="fragment"><p>The algorithm <strong>changes are minimal</strong>.</p></li>
<li class="fragment"><p>Is the enhancement <strong>justified</strong>?</p></li>
</ul>
</section>
<section id="minimax-vs.-alpha-beta-pruning-1" class="slide level2">
<h2>Minimax vs.&nbsp;Alpha-Beta Pruning</h2>
<div id="2826c384" class="cell" data-execution_count="25">
<div class="cell-output cell-output-stdout">
<pre><code>Number of sequences explored by the Minimax Search algorithm: 255,168

Number of sequences explored by the Alpha-Beta Search algorithm: 7,330

A 97.13% reduction in the number of the sequences visited!</code></pre>
</div>
</div>
</section>
<section id="exploration-1" class="slide level2">
<h2>Exploration</h2>
<p>Implement a <strong><a href="https://en.wikipedia.org/wiki/Connect_Four">Connect Four</a></strong> game using the <strong>Alpha-Beta Search algorithm</strong>. Conduct a comparative analysis between the Minimax and Alpha-Beta Search implementations.</p>
</section></section>
<section>
<section id="prologue" class="title-slide slide level1 center">
<h1>Prologue</h1>

</section>
<section id="further-exploration" class="slide level2">
<h2>Further exploration</h2>
<ul>
<li><strong>Expetimax</strong> search: handling players that are not perfect;</li>
<li><strong>Expectiminimax</strong>: handling chance in games such as backgammon.</li>
</ul>
</section>
<section id="summary" class="slide level2">
<h2>Summary</h2>
<ul>
<li>Introduction to adversarial search</li>
<li>Zero-sum games</li>
<li>Introduction to the minimax search method</li>
<li>Role of alpha and beta pruning in minimax search</li>
</ul>
<aside class="notes">
<ul>
<li><strong>Introduction to Adversarial Search:</strong>
<ul>
<li>Exploration of competitive environments with conflicting objectives.</li>
</ul></li>
<li><strong>Classification of Games:</strong>
<ul>
<li>Types based on determinism (deterministic vs.&nbsp;stochastic).</li>
<li>Number of players (one, two, or more).</li>
<li>Nature of competition (zero-sum vs.&nbsp;non-zero-sum).</li>
<li>Availability of information (perfect vs.&nbsp;imperfect information).</li>
</ul></li>
<li><strong>Zero-Sum Games:</strong>
<ul>
<li>Definition and characteristics.</li>
<li>Example: Tic-Tac-Toe as a zero-sum game.</li>
</ul></li>
<li><strong>Deterministic Games Framework:</strong>
<ul>
<li>Components: states, players, actions, transition functions, final states, rewards.</li>
<li>Development of policies from initial to final states.</li>
</ul></li>
<li><strong>Game Strategies and Complexity:</strong>
<ul>
<li>Analysis of never-lose strategies in Tic-Tac-Toe.</li>
<li>Discussion on the impact of move order (first or second player).</li>
<li>Exploration of game complexity in Tic-Tac-Toe, Chess, and Go.</li>
</ul></li>
<li><strong>Optimal Play and Perfect Information:</strong>
<ul>
<li>Concepts of optimal strategies and their implications.</li>
<li>Importance of perfect information in game theory.</li>
</ul></li>
<li><strong>Minimax Algorithm:</strong>
<ul>
<li>Introduction to the minimax search method.</li>
<li>Application in determining optimal moves in adversarial games.</li>
<li>Implementation details with a Python example for Tic-Tac-Toe.</li>
</ul></li>
<li><strong>Efficiency Improvements:</strong>
<ul>
<li>Use of caching (memoization) to enhance algorithm performance.</li>
<li>Reduction of computational overhead in game search trees.</li>
</ul></li>
<li><strong>Pruning Techniques:</strong>
<ul>
<li>Introduction to pruning in search trees to avoid unnecessary computations.</li>
<li>Detailed explanation of Alpha-Beta pruning.</li>
<li>Criteria for pruning and walkthrough examples illustrating the process.</li>
</ul></li>
<li><strong>Alpha-Beta Pruning:</strong>
<ul>
<li>Integration with the minimax algorithm.</li>
<li>Role of alpha and beta parameters in optimizing search.</li>
<li>Impact on the number of nodes evaluated.</li>
</ul></li>
<li><strong>Performance Comparison:</strong>
<ul>
<li>Analysis of node exploration between minimax and alpha-beta pruning.</li>
<li>Quantitative demonstration of efficiency gains.</li>
</ul></li>
<li><strong>Node Ordering and Pruning Effectiveness:</strong>
<ul>
<li>Discussion on how node evaluation order affects pruning success.</li>
<li>Strategies for ordering nodes to maximize pruning potential.</li>
</ul></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="next-lecture" class="slide level2">
<h2>Next lecture</h2>
<ul>
<li>We will look at the Monte Carlo Tree Search (MCTS) algorithm</li>
</ul>
</section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Russell:2020aa" class="csl-entry" role="listitem">
Russell, Stuart, and Peter Norvig. 2020. <em>Artificial Intelligence: <span>A</span> Modern Approach</em>. 4th ed. Pearson. <a href="http://aima.cs.berkeley.edu/">http://aima.cs.berkeley.edu/</a>.
</div>
<div id="ref-Shannon:1959aa" class="csl-entry" role="listitem">
Shannon, Claude E. 1959. <span>“Programming a Computer Playing Chess.”</span> <em>Philosophical Magazine</em> Ser.7, 41 (312).
</div>
</div>
</section>
<section class="slide level2">

<p>Marcel <strong>Turcotte</strong></p>
<p><a href="mailto:Marcel.Turcotte@uOttawa.ca">Marcel.Turcotte@uOttawa.ca</a></p>
<p>School of Electrical Engineering and <strong>Computer Science</strong> (EE<strong>CS</strong>)</p>
<p>University of Ottawa</p>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../../assets/images/uottawa_hor_black.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://turcotte.xyz/teaching/csi-4106">turcotte.xyz/teaching/csi-4106</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/turcotte\.xyz\/teaching\/csi-4106");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    <script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
    (function() {
      let previousOnload = window.onload;
      window.onload = () => {
        if (previousOnload) {
          previousOnload();
        }
        lightboxQuarto.on('slide_before_load', (data) => {
          const { slideIndex, slideNode, slideConfig, player, trigger } = data;
          const href = trigger.getAttribute('href');
          if (href !== null) {
            const imgEl = window.document.querySelector(`a[href="${href}"] img`);
            if (imgEl !== null) {
              const srcAttr = imgEl.getAttribute("src");
              if (srcAttr && srcAttr.startsWith("data:")) {
                slideConfig.href = srcAttr;
              }
            }
          } 
        });
      
        lightboxQuarto.on('slide_after_load', (data) => {
          const { slideIndex, slideNode, slideConfig, player, trigger } = data;
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(slideNode);
          }
        });
      
      };
      
    })();
              </script>
    

</body></html>